"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4934],{59067:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>_,frontMatter:()=>r,metadata:()=>o,toc:()=>m});var a=t(87462),p=(t(67294),t(3905));t(87617);const r={sidebar_position:4},i=void 0,o={unversionedId:"faq/SimulationSetup/SimulationSetup",id:"faq/SimulationSetup/SimulationSetup",title:"SimulationSetup",description:"1. \u600e\u6837\u65b0\u5efa\u4e00\u4e2aSDK\u4eff\u771f\u9879\u76ee\uff1f",source:"@site/docs/faq/SimulationSetup/SimulationSetup.md",sourceDirName:"faq/SimulationSetup",slug:"/faq/SimulationSetup/",permalink:"/my-website/docs/faq/SimulationSetup/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/faq/SimulationSetup/SimulationSetup.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"faqSidebar",previous:{title:"Local SDK License Instructions",permalink:"/my-website/docs/faq/faq2"},next:{title:"Active Device Simulation",permalink:"/my-website/docs/faq/SimulationSetup/ActiveDeviceSimulation"}},l={},m=[{value:"1. \u600e\u6837\u65b0\u5efa\u4e00\u4e2aSDK\u4eff\u771f\u9879\u76ee\uff1f",id:"1-\u600e\u6837\u65b0\u5efa\u4e00\u4e2asdk\u4eff\u771f\u9879\u76ee",level:2},{value:"2. \u600e\u6837\u5728SDK\u4eff\u771f\u4e2d\u6dfb\u52a0\u6750\u6599?",id:"2-\u600e\u6837\u5728sdk\u4eff\u771f\u4e2d\u6dfb\u52a0\u6750\u6599",level:2},{value:"2.1 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u975e\u8272\u6563\u6750\u6599\uff1f",id:"21-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u975e\u8272\u6563\u6750\u6599",level:3},{value:"2.2 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u8272\u6563\u6750\u6599\uff1f",id:"22-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u8272\u6563\u6750\u6599",level:3},{value:"2.3 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5404\u5411\u5f02\u6027\u6750\u6599\uff1f",id:"23-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5404\u5411\u5f02\u6027\u6750\u6599",level:3},{value:"3. \u600e\u6837\u5728SDK\u4eff\u771f\u4e2d\u6dfb\u52a0\u51e0\u4f55\u7ed3\u6784\uff1f",id:"3-\u600e\u6837\u5728sdk\u4eff\u771f\u4e2d\u6dfb\u52a0\u51e0\u4f55\u7ed3\u6784",level:2},{value:"3.1 \u600e\u6837\u6dfb\u52a0\u80cc\u666f\u6298\u5c04\u7387\uff1f",id:"31-\u600e\u6837\u6dfb\u52a0\u80cc\u666f\u6298\u5c04\u7387",level:3},{value:"3.2 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u77e9\u5f62\u7ed3\u6784\uff1f",id:"32-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u77e9\u5f62\u7ed3\u6784",level:3},{value:"3.3 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f27\u6ce2\u5bfc\uff1f",id:"33-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f27\u6ce2\u5bfc",level:3},{value:"3.4 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f62\u7ed3\u6784\uff1f",id:"34-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f62\u7ed3\u6784",level:3},{value:"3.6 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u62c9\u9525Taper\u7ed3\u6784\uff1f",id:"36-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u62c9\u9525taper\u7ed3\u6784",level:3},{value:"3.7 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u51e0\u4f55\u7ed3\u6784\uff1f",id:"37-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u51e0\u4f55\u7ed3\u6784",level:3},{value:"3.8 \u600e\u6837\u5728SDK\u4e2d\u901a\u8fc7\u5bfc\u5165gds\u6587\u4ef6\u5e76\u5efa\u7acb\u76f8\u5e94\u6a21\u578b\uff1f",id:"38-\u600e\u6837\u5728sdk\u4e2d\u901a\u8fc7\u5bfc\u5165gds\u6587\u4ef6\u5e76\u5efa\u7acb\u76f8\u5e94\u6a21\u578b",level:3},{value:"4. \u600e\u6837\u5728SDK\u4e2d\u8bbe\u7f6eFDE\u4eff\u771f\uff1f",id:"4-\u600e\u6837\u5728sdk\u4e2d\u8bbe\u7f6efde\u4eff\u771f",level:2},{value:"4.1 \u600e\u6837\u8bbe\u7f6eFDE\u4eff\u771f\u4e2d\u5404\u4e2a\u53c2\u6570\uff1f",id:"41-\u600e\u6837\u8bbe\u7f6efde\u4eff\u771f\u4e2d\u5404\u4e2a\u53c2\u6570",level:3},{value:"4.2 \u600e\u6837\u5728FDE\u4eff\u771f\u4e2d\u8fdb\u884coverlap\u7684\u8ba1\u7b97\uff1f",id:"42-\u600e\u6837\u5728fde\u4eff\u771f\u4e2d\u8fdb\u884coverlap\u7684\u8ba1\u7b97",level:3},{value:"4.3 \u600e\u6837\u5728FDE/FDTD/EME\u6a21\u5757\u4e2d\u67e5\u770b\u6298\u5c04\u7387\u8f6e\u5ed3\uff1f",id:"43-\u600e\u6837\u5728fdefdtdeme\u6a21\u5757\u4e2d\u67e5\u770b\u6298\u5c04\u7387\u8f6e\u5ed3",level:3},{value:"4.4 \u600e\u6837\u5728SDK\u4e2d\u7684FDE\u6a21\u5757\u4e2d\u83b7\u53d6\u4eff\u771f\u6570\u636e\uff1f",id:"44-\u600e\u6837\u5728sdk\u4e2d\u7684fde\u6a21\u5757\u4e2d\u83b7\u53d6\u4eff\u771f\u6570\u636e",level:3},{value:"5. \u600e\u6837\u5728SDK\u4e2d\u8bbe\u7f6eEME\u4eff\u771f\uff1f",id:"5-\u600e\u6837\u5728sdk\u4e2d\u8bbe\u7f6eeme\u4eff\u771f",level:2},{value:"5.1 \u600e\u6837\u8bbe\u7f6eEME\u4eff\u771f\u4e2d\u6dfb\u52a0\u8fb9\u754c\u6761\u4ef6\u548c\u7aef\u53e3\uff1f",id:"51-\u600e\u6837\u8bbe\u7f6eeme\u4eff\u771f\u4e2d\u6dfb\u52a0\u8fb9\u754c\u6761\u4ef6\u548c\u7aef\u53e3",level:3},{value:"5.2 \u600e\u6837\u5728EME\u4eff\u771f\u4e2d\u6dfb\u52a0\u4e00\u4e2aprofile monitor\uff1f",id:"52-\u600e\u6837\u5728eme\u4eff\u771f\u4e2d\u6dfb\u52a0\u4e00\u4e2aprofile-monitor",level:3},{value:"5.3 \u600e\u6837\u8bbe\u7f6eEME\u4eff\u771f\u7684\u53c2\u6570\uff1f",id:"53-\u600e\u6837\u8bbe\u7f6eeme\u4eff\u771f\u7684\u53c2\u6570",level:3},{value:"5.4 \u600e\u6837\u8bbe\u7f6e\u9884\u89c8EME\u4eff\u771f\u7ed3\u6784\u56fe\u50cf\uff1f",id:"54-\u600e\u6837\u8bbe\u7f6e\u9884\u89c8eme\u4eff\u771f\u7ed3\u6784\u56fe\u50cf",level:3},{value:"5.5 \u600e\u6837\u83b7\u53d6EME\u7aef\u53e3\u7684\u6a21\u5f0f\u7ed3\u679c\uff1f",id:"55-\u600e\u6837\u83b7\u53d6eme\u7aef\u53e3\u7684\u6a21\u5f0f\u7ed3\u679c",level:3},{value:"5.6 \u600e\u6837\u83b7\u53d6EME/FDTD\u7684\u6a21\u573a\u56fe\uff1f",id:"56-\u600e\u6837\u83b7\u53d6emefdtd\u7684\u6a21\u573a\u56fe",level:3},{value:"5.7 \u600e\u6837\u8fdb\u884cEME\u957f\u5ea6\u626b\u63cf\uff1f",id:"57-\u600e\u6837\u8fdb\u884ceme\u957f\u5ea6\u626b\u63cf",level:3},{value:"5.8 \u600e\u6837\u8fdb\u884cEME\u6ce2\u957f\u626b\u63cf\uff1f",id:"58-\u600e\u6837\u8fdb\u884ceme\u6ce2\u957f\u626b\u63cf",level:3},{value:"6. \u600e\u6837\u5728SDK\u4e2d\u8bbe\u7f6eFDTD\u4eff\u771f\uff1f",id:"6-\u600e\u6837\u5728sdk\u4e2d\u8bbe\u7f6efdtd\u4eff\u771f",level:2},{value:"6.1 \u600e\u6837\u8bbe\u7f6eFDTD\u4eff\u771f\u4e2d\u6ce2\u957f\uff1f",id:"61-\u600e\u6837\u8bbe\u7f6efdtd\u4eff\u771f\u4e2d\u6ce2\u957f",level:3},{value:"6.2 \u600e\u6837\u8bbe\u7f6eFDTD\u4eff\u771f\u5149\u6e90\uff1f",id:"62-\u600e\u6837\u8bbe\u7f6efdtd\u4eff\u771f\u5149\u6e90",level:3},{value:"6.3 \u600e\u6837\u8bbe\u7f6eFDTD\u7684\u76d1\u89c6\u5668\uff1f",id:"63-\u600e\u6837\u8bbe\u7f6efdtd\u7684\u76d1\u89c6\u5668",level:3},{value:"6.4 \u600e\u6837\u8bbe\u7f6eFDTD\u7684Port\u76f8\u5173\u53c2\u6570\uff1f",id:"64-\u600e\u6837\u8bbe\u7f6efdtd\u7684port\u76f8\u5173\u53c2\u6570",level:3},{value:"6.5 \u600e\u6837\u62bd\u53d6FDTD\u7684\u76f8\u5173\u7ed3\u679c\uff1f",id:"65-\u600e\u6837\u62bd\u53d6fdtd\u7684\u76f8\u5173\u7ed3\u679c",level:3},{value:"6.6 \u4e3a\u4ec0\u4e48FDTD\u7684Smatrix\u4f1a\u51fa\u73b0\u5927\u4e8e1\u7684\u60c5\u51b5\uff1f",id:"66-\u4e3a\u4ec0\u4e48fdtd\u7684smatrix\u4f1a\u51fa\u73b0\u5927\u4e8e1\u7684\u60c5\u51b5",level:3}],d={toc:m},s="wrapper";function _(e){let{components:n,...t}=e;return(0,p.kt)(s,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,p.kt)("h2",{id:"1-\u600e\u6837\u65b0\u5efa\u4e00\u4e2asdk\u4eff\u771f\u9879\u76ee"},"1. \u600e\u6837\u65b0\u5efa\u4e00\u4e2aSDK\u4eff\u771f\u9879\u76ee\uff1f"),(0,p.kt)("p",null,"\u9996\u5148\uff0c\u6211\u4eec\u9700\u8981\u5bfc\u5165All-in-One SDK\u5305\u6765\u8fdb\u884c\u5149\u5b66\u4eff\u771f\u8ba1\u7b97\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"import maxoptics_sdk.all as mo\n")),(0,p.kt)("p",null,"\u968f\u540e\u5982\u4e0b\u5217\u4e2d\u6240\u793a\uff0c\u65b0\u5efa\u4e00\u4e2a\u4eff\u771f\u9879\u76ee\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"name"),"\u4e3a\u9879\u76ee\u540d\u5b57\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"location"),"\u4e3a\u670d\u52a1\u5668\u7684\u4f4d\u7f6e/\u8fd0\u884c\u6a21\u5f0f\uff0c\u6b64\u65f6",(0,p.kt)("inlineCode",{parentName:"p"},'run_mode="local"'),"\u6216",(0,p.kt)("inlineCode",{parentName:"p"},'run_mode="cloud"'),"\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Project ---\npj = mo.Project(name=project_name, location=run_mode)\n# endregion\n")),(0,p.kt)("h2",{id:"2-\u600e\u6837\u5728sdk\u4eff\u771f\u4e2d\u6dfb\u52a0\u6750\u6599"},"2. \u600e\u6837\u5728SDK\u4eff\u771f\u4e2d\u6dfb\u52a0\u6750\u6599?"),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4eff\u771f\u8fc7\u7a0b\u4e2d\u6240\u7528\u5230\u7684\u6750\u6599\uff0c\u4ee3\u7801\u5982\u4e0b\u4e2d\u6240\u793a\u3002\u5176\u4e2d\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"name"),"\u4e3a\u6750\u6599\u540d\u5b57\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"data"),"\u4e3a\u6750\u6599\u5e93\u7684\u6750\u6599\u5bf9\u8c61\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"order"),"\u4e3a\u6750\u6599\u8986\u76d6\u7684\u4f18\u5148\u7ea7\uff0c\u5728\u4e0d\u540c\u6750\u6599\u7684\u7ed3\u6784\u53d1\u751f\u91cd\u53e0\u65f6\uff0c\u5927",(0,p.kt)("inlineCode",{parentName:"p"},"order"),"\u6570\u503c\u7684\u6750\u6599\u80fd\u8986\u76d6\u5c0f\u6570\u503c\u6750\u6599\uff0c\u5f53\u6570\u503c\u76f8\u540c\u65f6\uff0c\u5219\u9ed8\u8ba4\u540e\u6765\u5c45\u4e0a\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Material ---\nmt = pj.Material()\nmt.add_lib(name='Si', data=mo.Material.Si_Palik, order=2)\n# endregion\n")),(0,p.kt)("h3",{id:"21-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u975e\u8272\u6563\u6750\u6599"},"2.1 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u975e\u8272\u6563\u6750\u6599\uff1f"),(0,p.kt)("p",null,"\u6b64\u5916\uff0c\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"add_nondispersion"),"\u6dfb\u52a0\u975e\u8272\u6563\u6750\u6599\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"data=[(real, imag)]"),"\u4e2d\u7684\u6570\u636e\u4e3a\u6298\u5c04\u7387\u7684\u5b9e\u90e8\u548c\u865a\u90e8\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'mt = pj.Material()\nmt.add_nondispersion(name="SiO2", data=[(1.444, 0)], order=1)\n')),(0,p.kt)("h3",{id:"22-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u8272\u6563\u6750\u6599"},"2.2 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u8272\u6563\u6750\u6599\uff1f"),(0,p.kt)("p",null,"\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"add_dispersion"),"\u6dfb\u52a0\u8272\u6563\u6750\u6599\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"data=[(wavelength, real, imag)]"),"\u4e3a\u4e0d\u540c\u6ce2\u957f\u4e0b\u7684\u6298\u5c04\u7387\u5b9e\u90e8\u548c\u865a\u90e8\u3002\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"fitting"),"\u5bf9\u4e0d\u540c\u6ce2\u957f\u4e0b\u7684\u6750\u6599\u6298\u5c04\u7387\u8fdb\u884c\u62df\u5408"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'mt = pj.Material()\nmt.add_nondispersion(name="SiO2",data=[(1.55e-06, 1.444, 0), (1.30e-06, 1.81, 0.227)], order=1)\n')),(0,p.kt)("h3",{id:"23-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5404\u5411\u5f02\u6027\u6750\u6599"},"2.3 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5404\u5411\u5f02\u6027\u6750\u6599\uff1f"),(0,p.kt)("p",null,"\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"add_anisotropy"),"\u6765\u6dfb\u52a0\u5404\u5411\u5f02\u6027\u6750\u6599\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"data=[ (wavelength, nx_real, nx_imag, ny_real, ny_imag, nz_real, nz_imag ) ]"),"\u4ee3\u8868\u4e0d\u540c\u6ce2\u957f\u4e0b\uff0c\u6750\u6599\u7684\u5404\u5411\u5f02\u6027\u6298\u5c04\u7387\u5b9e\u90e8\u548c\u865a\u90e8\u3002\u540c\u6837\u7684\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"fitting"),"\u8fdb\u884c\u62df\u5408\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'mt = pj.Material()\nmt.add_anisotropy(name="LN", fitting=None,\n      data=[(wavelength * 1e-6, 2.211, 0, 2.138, 0, 2.211, 0)], order=2\n      )\n')),(0,p.kt)("h2",{id:"3-\u600e\u6837\u5728sdk\u4eff\u771f\u4e2d\u6dfb\u52a0\u51e0\u4f55\u7ed3\u6784"},"3. \u600e\u6837\u5728SDK\u4eff\u771f\u4e2d\u6dfb\u52a0\u51e0\u4f55\u7ed3\u6784\uff1f"),(0,p.kt)("p",null,"\u4e0b\u9762\u6211\u4eec\u5b66\u4e60\u5982\u4f55\u5728SDK\u4e2d\u65b0\u5efa\u4e00\u4e2a\u51e0\u4f55\u7ed3\u6784\uff0c\u5982",(0,p.kt)("em",{parentName:"p"},"Region 3"),"\u4e2d\u6240\u793a\u3002"),(0,p.kt)("h3",{id:"31-\u600e\u6837\u6dfb\u52a0\u80cc\u666f\u6298\u5c04\u7387"},"3.1 \u600e\u6837\u6dfb\u52a0\u80cc\u666f\u6298\u5c04\u7387\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u6240\u793a\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"Structure"),"\u4e2d\u5b9a\u4e49\u80cc\u666f\u6298\u5c04\u7387\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"background_material")," \u4e3a\u80cc\u666f\u6750\u6599\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"mesh_type"),"\u4e3a\u6750\u6599\u7684\u7f51\u683c\u7c7b\u578b\uff0c\u53ef\u9009",(0,p.kt)("inlineCode",{parentName:"p"},'"curve_mesh"')," \u548c ",(0,p.kt)("inlineCode",{parentName:"p"},'"staircase"'),"\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"mesh_factor"),"\u4e3a\u6750\u6599\u7684\u7f51\u683c\u56e0\u5b50\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'# region --- 3. Structure ---\n    st = pj.Structure(mesh_type="curve_mesh", mesh_factor=1.4,\n                      background_material=mt["Air"])\n# endregion\n')),(0,p.kt)("h3",{id:"32-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u77e9\u5f62\u7ed3\u6784"},"3.2 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u77e9\u5f62\u7ed3\u6784\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u4ee3\u7801\u6240\u793a\uff0c\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"Structure"),"\u51fd\u6570\u5185\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"add_geometry"),"\u6765\u6dfb\u52a0\u7ed3\u6784\u3002\u4f7f\u7528\u4ee3\u7801",(0,p.kt)("inlineCode",{parentName:"p"},"type='Rectangle'")," \u5373\u53ef\u6dfb\u52a0\u4e00\u4e2a\u77e9\u5f62\u7ed3\u6784\uff0c\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"material"),"\u4e3a\u4e4b\u524d\u5b9a\u4e49\u8fc7\u7684\u6750\u6599\u79cd\u7c7b\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"mesh_order"),"\u4e3a\u6750\u6599\u7684\u8986\u76d6\u4f18\u5148\u7ea7\uff0c\u548c\u4e4b\u524d\u6dfb\u52a0\u6750\u6599\u90e8\u5206\u4e2d\u7684\u7684order\u4f5c\u7528\u76f8\u540c\u3002\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\u7684\u53c2\u6570\u5217\u8868\u4e0b\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"x/y/z"),"\u4e3a\u4e09\u4e2a\u65b9\u5411\u4e0a\u7ed3\u6784\u7684\u4e2d\u5fc3\u5750\u6807\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"x_span/y_span/z_span"),"\u4e3a\u4e09\u4e2a\u65b9\u5411\u4e0a\u7ed3\u6784\u7684\u5bbd\u5ea6\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'st.add_geometry(name="rectangle", type="Rectangle", \n                property={"material": {"material": mt["Si"], "mesh_order": 2},\n                          "geometry": {"x": 0, "x_span": size, "y": space, "y_span": wg_width, "z": 0, "z_span": wg_height, }})\n')),(0,p.kt)("h3",{id:"33-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f27\u6ce2\u5bfc"},"3.3 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f27\u6ce2\u5bfc\uff1f"),(0,p.kt)("p",null,"\u540c\u6837\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5728SDK\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f27\u6ce2\u5bfc\u7ed3\u6784\u3002\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\u4e2d\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"inner_radius/out_radius"),"\u5206\u522b\u4e3a\u5706\u5f27\u7ed3\u6784\u7684\u5185\u90e8\u534a\u5f84\u548c\u5916\u90e8\u534a\u5f84\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"angle"),"\u4e3a\u5f2f\u66f2\u89d2\u5ea6\uff0c\u89d2\u5ea6\u7684\u6b63\u8d1f\u5206\u522b\u4e3a\u987a\u65f6\u9488\u65b9\u5411\u548c\u9006\u65f6\u9488\u65b9\u5411\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"xyz"),"\u4e3a\u4e09\u4e2a\u65b9\u5411\u4e0a\u7ed3\u6784\u7684\u4e2d\u5fc3\u4f4d\u7f6e\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"z_span"),"\u4e3a\u6ce2\u5bfc\u7684\u539a\u5ea6\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'st.add_geometry(name="arc", type="ArcWaveguide", \n                property={"material": {"material": mt["Si"], "mesh_order": 2},\n                          "geometry": {"inner_radius": size-wg_width/2, "outer_radius": size+wg_width/2, "angle": 90,\n             "x": 0, "y": 0, "z": 0, "z_span": wg_height}})\n')),(0,p.kt)("h3",{id:"34-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f62\u7ed3\u6784"},"3.4 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f62\u7ed3\u6784\uff1f"),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5728\u4e0b\u5217\u4ee3\u7801\u4e2d\u5b66\u4e60\u5982\u4f55\u6dfb\u52a0\u4e00\u4e2a\u5706\u5f62\u7ed3\u6784\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"radius"),"\u4e3a\u56ed\u5f62\u7684\u534a\u5f84\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"x/y"),"\u4e3a\u5706\u5fc3\u5750\u6807\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'st.add_geometry(name="circle", type="Circle", property={\n    "material": {"material": mt["Si"], "mesh_order": 2},\n    "geometry": {"radius": size, "x": 4*space, "y": 0, "z": 0, "z_span": wg_height}})\n')),(0,p.kt)("h3",{id:"36-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u62c9\u9525taper\u7ed3\u6784"},"3.6 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u62c9\u9525Taper\u7ed3\u6784\uff1f"),(0,p.kt)("p",null,"\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"add_geometry"),"\u8c03\u7528",(0,p.kt)("inlineCode",{parentName:"p"},'type="LinearTrapezoid"'),"\u6765\u5efa\u7acb\u4e00\u4e2aTaper\u62c9\u9525\u7ed3\u6784\uff0c\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"point_{1,2,3,4} _{x,y}"),"\u5206\u522b\u4e3a\u62c9\u9525\u7ed3\u6784\u7684\u56db\u4e2a\u9876\u70b9\u5750\u6807\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"x/y/z"),"\u4e3a\u62c9\u9525\u7ed3\u6784\u7684\u76843D\u53c2\u8003\u70b9\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"z_span"),"\u4e3a\u62c9\u9525\u6ce2\u5bfc\u539a\u5ea6\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'st.add_geometry(name="linear_trapezoid", type="LinearTrapezoid", property={\n    "material": {"material": mt["Si"], "mesh_order": 2},\n    "geometry": {"point_1_x": 0, "point_1_y": 0, "point_2_x": 0, "point_2_y": size/2,\n                 "point_3_x": size, "point_3_y": size, "point_4_x": size, "point_4_y": 0,\n                 "x": 2*space, "y": space, "z": 0, "z_span": wg_height,\n                 }})\n')),(0,p.kt)("h3",{id:"37-\u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u51e0\u4f55\u7ed3\u6784"},"3.7 \u600e\u6837\u6dfb\u52a0\u4e00\u4e2a\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u51e0\u4f55\u7ed3\u6784\uff1f"),(0,p.kt)("p",null,"\u4ee5\u4e00\u4e2a\u81ea\u5b9a\u4e49\u51fd\u6570\u66f2\u7ebf\u7684\u62c9\u9525\u7ed3\u6784\u4e3a\u4f8b\uff0c\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"add_geometry"),"\u8c03\u7528",(0,p.kt)("inlineCode",{parentName:"p"},'type="AnalyticalWaveguide"'),"\u6765\u4f7f\u7528\u8be5\u529f\u80fd\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"equation1"),"\u4e3a\u6ce2\u5bfc\u8fb9\u754c\u51fd\u6570\u8868\u8fbe\u5f0f\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"x/y/z")," \u4e3a\u4e2d\u5fc3\u5750\u6807\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"x span/y span"),"\u4e3a\u5b9a\u4e49\u57df\u8303\u56f4\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"resolution"),"\u4e3a\u5206\u8fa8\u7387\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"nonsymmetric"),"\u5b9a\u4e49\u4e86\u7ed3\u6784\u662f\u5426\u4e0a\u4e0b\u5bf9\u79f0\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"tilt_location"),"\u51b3\u5b9a\u4e86\u68af\u5f62\u62c9\u4f38\u4f4d\u7f6e\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"tilt_angle"),"\u4e3a\u7ed3\u6784\u7684\u503e\u89d2\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},'st.add_geometry(name="taper_symmetric", type="AnalyticalWaveguide", property={\n    "material": {"material": mt["Si"], "mesh_order": 2},\n    "geometry": {"x": 0, "x_span": L, "y": 0, "y_span": taper_width,\n                 "z": 0, "z_sapn": 0.22,\n                 "equation1": f\'{str(A)*({str(L/2)}-x)^{str(m)}+1.5, "nonsymmetric": False,\n                 "tilt_location": "user_defined", "tilt_angle": 80, "user_defined": 0.5, "resolutionn": 1000\n                 }})\n')),(0,p.kt)("h3",{id:"38-\u600e\u6837\u5728sdk\u4e2d\u901a\u8fc7\u5bfc\u5165gds\u6587\u4ef6\u5e76\u5efa\u7acb\u76f8\u5e94\u6a21\u578b"},"3.8 \u600e\u6837\u5728SDK\u4e2d\u901a\u8fc7\u5bfc\u5165gds\u6587\u4ef6\u5e76\u5efa\u7acb\u76f8\u5e94\u6a21\u578b\uff1f"),(0,p.kt)("p",null,"\u4e0b\u9762\u4ee3\u7801\u6848\u4f8b\u7ed9\u51fa\u4e86\u5982\u4f55\u5728SDK\u4e2d\uff0c\u901a\u8fc7\u5bfc\u5165gds\u6587\u4ef6\u5efa\u7acb\u76f8\u5e94\u7ed3\u6784\u7684\u4ee3\u7801\u3002\u5176\u4e2d\uff0c\u83b7\u53d6\u4e86",(0,p.kt)("inlineCode",{parentName:"p"},"gds_file"),"gds\u6587\u4ef6\u5b8c\u6574\u7684\u8def\u5f84\u540d\u540e\uff1b\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"add_geometry"),"\u51fd\u6570\u4e0b\u7684",(0,p.kt)("inlineCode",{parentName:"p"},'type="gds_file"'),"\u5bfc\u5165\u6765\u76f8\u5e94\u7684gds\u6587\u4ef6\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"path"),"\u4e3agds\u6587\u4ef6\u5bf9\u5e94\u7684\u5b8c\u6574\u8def\u5f84\u540d\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"cell_name"),"\u4e3a\u5f85\u5bfc\u5165gds\u7684cell\u540d\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"layer_name"),"\u4e3a\u5f85\u5bfc\u5165\u7684\u56fe\u5c42\u7c7b\u578b\u548c\u6570\u636e\u7c7b\u578b\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"material"),"\u4e3a\u7ed3\u6784\u5bf9\u5e94\u7684\u6750\u6599\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'gds_file_root_path = os.path.abspath(os.path.join(path, \'..\'))\ngds_file = gds_file_root_path + "/examples_gds/DC.gds"\nst.add_geometry(name="box", type="gds_file",\n                property={"general": {"path": gds_file, "cell_name": "TOP", "layer_name": (1, 1)},\n                          "geometry": {"x": 0, "y": 0, "z": 0.11, "z_span": 6},\n                          "material": {"material": mt["SiO2"], "mesh_order": 1}})\n')),(0,p.kt)("p",null,"\u5728\u5bfc\u5165gds\u6587\u4ef6\u5efa\u6a21\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u6ce8\u610f\u6750\u6599",(0,p.kt)("inlineCode",{parentName:"p"},"mesh_order"),"\u7684\u8bbe\u7f6e\uff0c\u786e\u4fdd\u91cd\u53e0\u7ed3\u6784\u7684\u8986\u76d6\u987a\u5e8f\u662f\u6b63\u786e\u7684\u3002"),(0,p.kt)("h2",{id:"4-\u600e\u6837\u5728sdk\u4e2d\u8bbe\u7f6efde\u4eff\u771f"},"4. \u600e\u6837\u5728SDK\u4e2d\u8bbe\u7f6eFDE\u4eff\u771f\uff1f"),(0,p.kt)("h3",{id:"41-\u600e\u6837\u8bbe\u7f6efde\u4eff\u771f\u4e2d\u5404\u4e2a\u53c2\u6570"},"4.1 \u600e\u6837\u8bbe\u7f6eFDE\u4eff\u771f\u4e2d\u5404\u4e2a\u53c2\u6570\uff1f"),(0,p.kt)("p",null,"\u4e0b\u9762\u6211\u4eec\u5b66\u4e60\u5728SDK\u4e2d\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"Simulation"),"\u6dfb\u52a0\u4e00\u4e2aFDE\u4eff\u771f\u5e76\u8bbe\u7f6e\u5176\u4eff\u771f\u53c2\u6570\u3002",(0,p.kt)("br",null),"\u9996\u5148\uff0c\u9700\u8981\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"OBoundary"),"\u8bbe\u7f6e\u8fb9\u754c\u6761\u4ef6\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\u4e3a\u8fb9\u754c\u51e0\u4f55\u53c2\u6570\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"boundary"),"\u4e3a\u622a\u9762\u4eff\u771f\u8fb9\u754c\u53c2\u6570\u3002",(0,p.kt)("br",null),"\u968f\u540e\uff0c\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"simu.add"),"\u4e0b\u5206\u522b\u8bbe\u7f6e\u4eff\u771f\u540d\u79f0",(0,p.kt)("inlineCode",{parentName:"p"},"name"),"\uff0c\u4eff\u771f\u7c7b\u578b",(0,p.kt)("inlineCode",{parentName:"p"},"type"),"\uff0c\u4ee5\u53ca\u4eff\u771f\u7684\u5404\u9879\u53c2\u6570",(0,p.kt)("inlineCode",{parentName:"p"},"property"),"\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"property"),"\u4e2d\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"general"),"\u8bbe\u7f6e\u4eff\u771f\u6c42\u89e3\u5668\u7684\u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"2d_x_normal"),"\uff1b\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"mesh_settings"),"\u4e0b\u8bbe\u7f6e\u7f51\u683c\u53c2\u6570\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"global_mesh_uniform_grid"),"\u8bbe\u7f6e\u5404\u65b9\u5411\u4e0a\u7684\u7f51\u683c\u5927\u5c0f\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"calculate_modes"),"\u786e\u5b9a\u662f\u5426\u8ba1\u7b97\u6a21\u5f0f\uff1b ",(0,p.kt)("inlineCode",{parentName:"p"},"mesh_structure"),"\u786e\u5b9a\u662f\u5426\u8ba1\u7b97\u6298\u5c04\u7387\u8f6e\u5ed3\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength"),"\u4e3a \u9891\u57df\u6ce2\u957f\uff1b\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_offset"),"\u8ba1\u7b97\u7fa4\u6298\u5c04\u7387\u7684\u6ce2\u957f\u504f\u79fb\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"number_of_trial_modes"),"\u4e3aFDE\u8ba1\u7b97\u7684\u6a21\u5f0f\u6570\u76ee\uff1b\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"search")," \u5bfb\u627e\u6a21\u5f0f\u6298\u5c04\u7387\uff0c\u53ef\u9009\u7528",(0,p.kt)("inlineCode",{parentName:"p"},"[\u2018max_index\u2019, \u2018near n\u2019]"),"\u4e24\u79cd\u65b9\u5f0f\uff0c\u9ed8\u8ba4\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"\u2018max_index\u2019"),"\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"calculate_group_index")," \u786e\u5b9a \u662f\u5426\u8ba1\u7b97\u7fa4\u6298\u5c04\u7387\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"bent_waveguide"),"\u4e3a\u662f\u5426\u8ba1\u7b97\u5f2f\u66f2\u6ce2\u5bfc\u7684\u6a21\u5f0f\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"radius"),"\u4e3a\u6ce2\u5bfc\u7684\u5f2f\u66f2\u534a\u5f84\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"orientation"),"\u4e3a\u5f2f\u66f2\u6ce2\u5bfc\u7684\u4f4d\u7f6e\u3002\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"frequency_analysis"),"\u626b\u63cf\u5404\u4e2a\u9891\u7387\u4e0b\u7684\u6298\u5c04\u7387\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"start_wavelength"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"stop_wavelength"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"number_of_points"),"\uff0c\u5206\u522b\u4e3a\u8d77\u59cb\u626b\u63cf\u6ce2\u957f\uff0c\u7ed3\u675f\u626b\u63cf\u6ce2\u957f\u548c\u626b\u63cf\u53d6\u70b9\u4e2a\u6570\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Boundary ---\nst.OBoundary(property={'geometry': {'x': 0, 'x_span': 0, 'y': 0, 'y_span': yspan_solver, 'z': 0, 'z_span': zspan_solver},\n                       'boundary': {'y_min': 'PEC', 'y_max': 'PEC', 'z_min': 'PEC', 'z_max': 'PEC'},\n\n                       })\n# endregion\n\n# region --- Simulation ---\nsimu = pj.Simulation()\nsimu.add(name=simu_name, type='FDE',\n         property={\n             # 'general': {'solver_type': '2d_x_normal'},  # default is '2d_x_normal' ['2d_x_normal','2d_y_normal','2d_z_normal']\n             'mesh_settings': {\n                 'global_mesh_uniform_grid': {'dy': grid, 'dz': grid},  # 'minimum_mesh_step_settings': {'min_mesh_step': 1.0e-4}\n             },\n             'fde_analysis': {\n                 'modal_analysis': {\n                     'calculate_modes': run_options.run, 'mesh_structure': True,\n                     'wavelength': wavelength, 'wavelength_offset': 0.0001, 'number_of_trial_modes': number_of_trial_modes,\n                     'search': 'max_index',  # ['near_n','max_index']\n                     # 'n': 2,\n                     'calculate_group_index': False,\n                     'mode_removal': {'threshold': 0.02},\n                     # 'bent_waveguide': {'bent_waveguide': False, 'radius': 1, 'orientation': 0, 'location': 'simulation_center'}\n                 },\n                 \"frequency_analysis\": {\n                     \"frequency_analysis\": run_options.run_frequency_sweep,\n                     \"start_wavelength\": 1.50, \"stop_wavelength\": 1.60, \"number_of_points\": 3,\n                     \"effective_index\": 2.67, \"detailed_dispersion_calculation\": False\n                 }}})\n# endregion\n")),(0,p.kt)("h3",{id:"42-\u600e\u6837\u5728fde\u4eff\u771f\u4e2d\u8fdb\u884coverlap\u7684\u8ba1\u7b97"},"4.2 \u600e\u6837\u5728FDE\u4eff\u771f\u4e2d\u8fdb\u884coverlap\u7684\u8ba1\u7b97\uff1f"),(0,p.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7\u4e0b\u5217\u4ee3\u7801\u4e2d\u5c06\u5982\u4e0b\u56fe\u6240\u793a\u6a21\u5f0f\u5149\u548c\u9ad8\u65af\u5149\u6e90\u8fdb\u884coverlap\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'if run_options.run:\n    fde_res = simu[simu_name].run()\nif run_options.run_overlap:\n    if run_options.run_beam:\n        beam_res = simu[simu_name].run_fde_beam_and_extract(\n            property={\n                "define_gaussian_beam_by": "waist_size_and_position", # [waist_size_and_position,beam_size_and_divergence],\n                "waist_radius": 10, "distance_from_waist": 0, "refractive_index": 1,\n                "theta": 0, "phi": 0, "polarization_angle": 0,\n                "sample_span": 10, "sample_resolution": 200},\n            savepath=plot_path + \'beam_heatmap\')\n        overlap_res = simu[simu_name].run_fde_overlap_and_extract(\n            property={"add_global_mode": {"task_path": beam_res.task_path, "mode": 0}, "mode": 0, "optimize_position": True},\n            export_csv=True,\n            savepath=plot_path + \'overlap\')\n    if not run_options.run_beam:\n        overlap_res = simu[simu_name].run_fde_overlap_and_extract(\n            property={"add_global_mode": {"mode": 0}, "mode": 0},\n            export_csv=True,\n            savepath=plot_path + \'overlap\')\n')),(0,p.kt)("h3",{id:"43-\u600e\u6837\u5728fdefdtdeme\u6a21\u5757\u4e2d\u67e5\u770b\u6298\u5c04\u7387\u8f6e\u5ed3"},"4.3 \u600e\u6837\u5728FDE/FDTD/EME\u6a21\u5757\u4e2d\u67e5\u770b\u6298\u5c04\u7387\u8f6e\u5ed3\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u4ee3\u7801\u4e2d\u6240\u793a\u4e3a\u5982\u4f55\u5bf9\u5668\u4ef6\u622a\u9762\u8fdb\u884c",(0,p.kt)("inlineCode",{parentName:"p"},"run_index"),"\u4eff\u771f\uff0c\u9996\u5148\u5047\u8bbe\u6211\u4eec\u5bf9\u5668\u4ef6x\u65b9\u5411\u4e0a\u622a\u9762\u8ba1\u7b97\u6298\u5c04\u7387\u8f6e\u5ed3\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"x=0"),"\u786e\u5b9a\u622a\u9762\u5728x\u65b9\u5411\u4e0a\u7684\u4f4d\u7f6e\uff0c\u5e76\u8bbe\u7f6e",(0,p.kt)("inlineCode",{parentName:"p"},"x_span=0"),"\uff1b\u968f\u540e\u8bbe\u7f6e\u622a\u9762\u8f6e\u5ed3\u56fe\u8ba1\u7b97\u533a\u57df\u7684\u4e2d\u5fc3\u70b9",(0,p.kt)("inlineCode",{parentName:"p"},"y/z"),"\u5750\u6807,\u4ee5\u53ca\u622a\u9762\u5c3a\u5bf8",(0,p.kt)("inlineCode",{parentName:"p"},"y_span/z_span"),"\u7684\u6570\u503c\u3002y/z\u65b9\u5411\u4e0a\u622a\u9762\u6298\u5c04\u7387\u8f6e\u5ed3\u8ba1\u7b97\u533a\u57df\u7684\u8bbe\u7f6e\u540c\u4e0a\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"simu[simu_name].run_index(name=f'{simu_name}_x_0', savepath=f'{plot_path}{k}IndexPreview_x=0',\n                                  # export_csv=False, show=False,\n                                  property={'geometry': {'x': 0, 'x_span': 0, 'y': 0, 'y_span': 3, 'z': 0, 'z_span': 2}})\n")),(0,p.kt)("h3",{id:"44-\u600e\u6837\u5728sdk\u4e2d\u7684fde\u6a21\u5757\u4e2d\u83b7\u53d6\u4eff\u771f\u6570\u636e"},"4.4 \u600e\u6837\u5728SDK\u4e2d\u7684FDE\u6a21\u5757\u4e2d\u83b7\u53d6\u4eff\u771f\u6570\u636e\uff1f"),(0,p.kt)("p",null,"\u9996\u5148\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"result_fde.extract"),"\u4e0b\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"data='calculate_modes'"),"\u6765\u83b7\u53d6\u4eff\u771f\u6a21\u573a\u5e76\u4fdd\u5b58\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"savepath"),"\u8def\u5f84\u4e0b\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"export_csv"),"\u786e\u5b9a\u662f\u5426\u5bfc\u51fa\u6a21\u573a\u6570\u636e\u7684csv\u683c\u5f0f\u6587\u4ef6\uff1b\u8bbe\u7f6e",(0,p.kt)("inlineCode",{parentName:"p"},"attribute"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"mode"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"real"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"imag"),"\u6765\u63d0\u53d6\u6240\u9700\u8981\u6a21\u5f0f\u76f8\u5173\u6570\u636e\u3002\u5f53\u4f7f\u7528FDE\u6a21\u5757\u4e2d\u9891\u7387\u626b\u63cf\u529f\u80fd\u65f6\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"data=\u2019frequency_analysis\u2019"),"\u63d0\u53d6\u6570\u636e\u3002\u5982\u4ee3\u7801\u4e2d\u6240\u793a\uff0c\u53ef\u4ee5\u63d0\u53d6",(0,p.kt)("inlineCode",{parentName:"p"},'"neff", "loss", "group_index", "polarization"'),"\u7b49\u7b49\u5404\u4e2a\u5206\u91cf\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'# region --- See Results ---\nif run_options.extract:\n    # region --- calculate_modes ---\n    if run_options.run:\n        k = kL[2]\n        res = result_fde.extract(data=\'calculate_modes\', savepath=f\'{plot_path}{k}_neff_table\', export_csv=True)\n        print(res.to_string(index=False))\n        for m in range(len(res)):\n            k = kL[3]\n            result_fde.extract(data=\'calculate_modes\', savepath=f\'{plot_path}{k}_mode{m}\',\n                               attribute=\'E\', mode=m, real=True, imag=True, **export_options, show=False)\n    # endregion\n\n    if run_options.run_frequency_sweep:\n        attr_selections: List[Literal["neff", "loss", "group_index", "polarization"]] = ["neff", "loss", "group_index", "polarization"]\n        for i, a in enumerate(attr_selections):\n            k = kL[4]\n            result_fde.extract(data="frequency_analysis", savepath=f\'{plot_path}{k}_freq_sweep_{a}}\',\n                               attribute="a", real=True, imag=True, export_csv=True, export_mat=True, show=False)\n# endregion\n\n')),(0,p.kt)("h2",{id:"5-\u600e\u6837\u5728sdk\u4e2d\u8bbe\u7f6eeme\u4eff\u771f"},"5. \u600e\u6837\u5728SDK\u4e2d\u8bbe\u7f6eEME\u4eff\u771f\uff1f"),(0,p.kt)("h3",{id:"51-\u600e\u6837\u8bbe\u7f6eeme\u4eff\u771f\u4e2d\u6dfb\u52a0\u8fb9\u754c\u6761\u4ef6\u548c\u7aef\u53e3"},"5.1 \u600e\u6837\u8bbe\u7f6eEME\u4eff\u771f\u4e2d\u6dfb\u52a0\u8fb9\u754c\u6761\u4ef6\u548c\u7aef\u53e3\uff1f"),(0,p.kt)("p",null,"\u9996\u5148\u9700\u8981\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"OBoundary"),"\u5bf9\u8fb9\u754c\u6761\u4ef6\u8fdb\u884c\u8bbe\u7f6e\uff0c\u518d\u7528",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"boundary"),"\u5206\u522b\u5bf9\u8fb9\u754c\u7684\u51e0\u4f55\u5c3a\u5bf8\u548c\u5404\u4e2a\u7ef4\u5ea6\u7684\u8fb9\u754c\u53c2\u6570\u8fdb\u884c\u8bbe\u7f6e\u3002",(0,p.kt)("br",null),"\u968f\u540e\u9700\u8981\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"Port"),"\u5bf9EME\u7684\u7aef\u53e3\u8fdb\u884c\u8bbe\u7f6e\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"pj.Port.add"),"\u80fd\u591f\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7aef\u53e3\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"port_location"),"\u4e3a\u7aef\u53e3\u7684\u4f4d\u7f6e\uff1b\u53ef\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"mode_selection"),"\u9009\u62e9\u8be5\u7aef\u53e3\u7684\u6a21\u5f0f\uff0c\u5982",(0,p.kt)("inlineCode",{parentName:"p"},"fundamental_TE"),"\u6216\u8005",(0,p.kt)("inlineCode",{parentName:"p"},"fundamental_TM"),"\uff1b\u6b64\u5916\uff0c\u8fd8\u652f\u6301",(0,p.kt)("inlineCode",{parentName:"p"},"user_select"),"\u81ea\u5b9a\u4e49\u7aef\u53e3\u7684\u6a21\u5f0f\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"mode_index"),"\u9009\u5b9a\u7aef\u53e3\u6a21\u5f0f\u7684\u9636\u6570\uff0c\u9700\u8981\u4fdd\u8bc1\u662f\u6b63\u6574\u6570\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"use_full_simulation_span")," \u4e3a\u662f\u5426\u4f7f\u7528\u5168\u4eff\u771f\u533a\u57df\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"offset"),"\u4e3a\u7aef\u53e3\u76f8\u5bf9\u4eff\u771f\u8fb9\u754c\u7684\u504f\u79fb\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"number_of_trial_modes")," \u4e3aEME\u6c42\u89e3\u6a21\u5f0f\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Boundary ---\nst.OBoundary(property={'geometry': {'x': 0, 'x_span': 2, 'y': 0, 'y_span': 3, 'z': 0, 'z_span': 3},\n                       'boundary': {'y_min': 'PEC', 'y_max': 'PEC', 'z_min': 'PEC', 'z_max': 'PEC'} \n                       })\n\n# region --- Port ---\npjp = pj.Port(property={'source_port': 'eme_in'})\n\n# region --- eme_in ---\npjp.add(name='eme_in', type='eme_port',\n        property={'geometry': {'port_location': 'left',  # 'use_full_simulation_span': True,\n                               'y': 0, 'y_span': 3, 'z': 0, 'z_span': 3},\n                  'eme_port': {\n                      'general': {'mode_selection': 'fundamental_TE',  # 'mode_index': 0, 'search': 'max_index'\n                                  },\n                      'advanced': {'offset': 0, 'number_of_trial_modes': number_of_modes,\n                                   # 'mode_removal': {'is_used': False, 'threshold': 0.01}\n                                   }}})\n# endregion\n\n# region --- eme_out ---\npjp.add(name='eme_out', type='eme_port',\n        property={'geometry': {'port_location': 'right',  # 'use_full_simulation_span': True,\n                               'y': 0, 'y_span': 3, 'z': 0, 'z_span': 3},\n                  'eme_port': {\n                      'general': {'mode_selection': 'fundamental_TE',  # 'mode_index': 0, 'search': 'max_index'\n                                  },\n                      'advanced': {'offset': 0, 'number_of_trial_modes': number_of_modes,\n                                   # 'mode_removal': {'is_used': False, 'threshold': 0.01}\n                                   }}})\n# endregion\n# endregion\n\n")),(0,p.kt)("h3",{id:"52-\u600e\u6837\u5728eme\u4eff\u771f\u4e2d\u6dfb\u52a0\u4e00\u4e2aprofile-monitor"},"5.2 \u600e\u6837\u5728EME\u4eff\u771f\u4e2d\u6dfb\u52a0\u4e00\u4e2aprofile monitor\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u65b9\u4ee3\u7801\u6240\u793a\uff0c\u9996\u5148\u9700\u8981\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"add"),"\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u76d1\u89c6\u5668\uff0c\u518d\u7528",(0,p.kt)("inlineCode",{parentName:"p"},"type='profile_monitor'"),"\u8c03\u7528\u4e0d\u540c\u79cd\u7c7b\u7684\u76d1\u89c6\u5668\u3002\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"property"),"\u4e2d\u5bf9\u76d1\u89c6\u5668\u5404\u4e2a\u53c2\u6570\u8fdb\u884c\u8bbe\u7f6e\uff0c\u5982",(0,p.kt)("inlineCode",{parentName:"p"},"monitor_type"),"\u8bbe\u7f6e\u76d1\u89c6\u5668\u7684\u65b9\u5411\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"x/y/z"),"\u4ee5\u53ca",(0,p.kt)("inlineCode",{parentName:"p"},"x_span/y_span/z_span"),"\u786e\u5b9a\u76d1\u89c6\u5668\u7684\u5750\u6807\u548c\u5c3a\u5bf8\u4e14\u76d1\u89c6\u5668\u6cd5\u5411span\u5bbd\u5ea6\u9700\u8981\u4e3a\u96f6\u3002",(0,p.kt)("br",null),"\u6b64\u5916\uff0c\u8fd8\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u76d1\u89c6\u5668\u7684\u533a\u57df\u9700\u8981\u5c0f\u4e8e\u7b49\u4e8e\u4eff\u771f\u533a\u57df\u7684\u5927\u5c0f\uff0c\u5bf9\u4e8eXY\u5e73\u9762\u7684profile monitor\uff0c\u4e00\u822c\u4ee4\u5176\u76d1\u89c6\u533a\u57df\u5c3a\u5bf8\u4e0e\u4eff\u771f\u533a\u57df\u76f8\u540c\u3002FDTD\u7684profile monitor\u8bbe\u7f6e\u4e0e\u6b64\u76f8\u540c\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Monitor ---\nmn = pj.Monitor()\nmn.add(name='x_normal', type='profile_monitor',\n       property={'geometry': {'monitor_type': '2d_x_normal',  # 'x_resolution': 100,\n                         'x': 0.9, 'x_span': 0, 'y': 0, 'y_span': 3, 'z': 0, 'z_span': 3}})\n# endregion\n")),(0,p.kt)("h3",{id:"53-\u600e\u6837\u8bbe\u7f6eeme\u4eff\u771f\u7684\u53c2\u6570"},"5.3 \u600e\u6837\u8bbe\u7f6eEME\u4eff\u771f\u7684\u53c2\u6570\uff1f"),(0,p.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u5b66\u4e60\u5982\u4f55\u5728EME\u4eff\u771f\u6a21\u5757\u4e2d\u8bbe\u7f6e\u76f8\u5e94\u7684\u53c2\u6570\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"general"),"\u53c2\u6570\u5217\u8868\u4e0b\u7684",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength"),"\u4e3aEME\u4eff\u771f\u6ce2\u957f\u3002\u968f\u540e\u5728\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"cell_group_definition"),"\u8fdb\u884c\u5bf9EME\u4eff\u771fcell\u7684\u5b9a\u4e49\uff0c\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"span"),"\u4e3acell\u7684\u957f\u5ea6\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"cell_number"),"\u786e\u5b9a\u8be5\u957f\u5ea6\u5747\u5206\u4e3a\u591a\u5c11\u4e2acell\uff0c ",(0,p.kt)("inlineCode",{parentName:"p"},"number_of_modes"),"\u4e3a\u8ba1\u7b97\u65f6\u6c42\u89e3\u7684\u6a21\u5f0f\u6570\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"sub_cell_method"),"\u786e\u5b9a\u4e86\u8ba1\u7b97cell\u4e4b\u95f4S\u77e9\u9635\u7684\u65b9\u6cd5\u3002\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"transverse_mesh_setting"),"\u4e2d\u8fdb\u884c\u6a2a\u5411\u7f51\u683c\u8bbe\u7f6e\u3002\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"eme_analysis"),"\u4e0b\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"eme_propagate"),"\u786e\u5b9a\u662f\u5426\u8ba1\u7b97eme\u4f20\u64ad\u56fe\u50cf\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"propagation_sweep"),"\u4e3a\u662f\u5426\u8fdb\u884ceme\u957f\u5ea6\u626b\u63cf\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_sweep"),"\u4e3a\u662f\u5426\u8fdb\u884ceme\u6ce2\u957f\u626b\u63cf\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Simulation ---\nsimu = pj.Simulation()\nsimu.add(name=simu_name, type='EME',\n         property={\n             'general': {'wavelength': wavelength, 'wavelength_offset': 0.0003 },\n             'eme_setup': {'cell_geometry': {\n                 'cell_group_definition': [\n                     {'span': 2, 'cell_number': cell_number, 'number_of_modes': number_of_modes, 'sc': 'sub_cell'}]}},\n             'transverse_mesh_setting': {'global_mesh_uniform_grid': {'dy': grid, 'dz': grid} },\n             'eme_analysis': {\n                 'eme_propagate': run_options.run,\n                 'propagation_sweep': {'propagation_sweep': run_options.run_length_sweep,\n                                       'parameter': 'group_span_1', 'start': 0, 'stop': 5, 'number_of_points': 6},\n                 'wavelength_sweep': {'wavelength_sweep': run_options.run_wavelength_sweep,\n                                      'start': wavelength - 0.5, 'stop': wavelength + 0.5,\n                                      'number_of_wavelength_points': 3}\n             }})\n# endregion\n")),(0,p.kt)("h3",{id:"54-\u600e\u6837\u8bbe\u7f6e\u9884\u89c8eme\u4eff\u771f\u7ed3\u6784\u56fe\u50cf"},"5.4 \u600e\u6837\u8bbe\u7f6e\u9884\u89c8EME\u4eff\u771f\u7ed3\u6784\u56fe\u50cf\uff1f"),(0,p.kt)("p",null,"\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"structure_show"),"\u53ef\u4ee5\u9884\u89c8EME\u4eff\u771f\u7ed3\u6784\u548c\u56fe\u50cf\u3002\u5982\u4e0b\u6848\u4f8b\u4ee3\u7801\u6240\u793a\uff0c\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"fig_type"),'\u4e3a\u751f\u6210\u56fe\u7247\u7c7b\u578b\uff0c\u901a\u5e38\u4e3a"png"\uff0c\u901a\u8fc7',(0,p.kt)("inlineCode",{parentName:"p"},"show"),"\u6765\u786e\u8ba4\u662f\u5426\u751f\u6210\u56fe\u50cf\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"savepath"),"\u4e3a\u7ed3\u679c\u56fe\u50cf\u7684\u8def\u5f84\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"simulation_name"),"\u4e3a\u7ed3\u679c\u56fe\u50cf\u540d\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"celldisplay"),"\u786e\u8ba4\u56fe\u50cf\u4e2d\u662f\u5426\u751f\u6210cell\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"xyratio"),"\u4e3a\u56fe\u50cf\u4e2dx\u5750\u6807\u548cy\u5750\u6807\u7684\u6bd4\u4f8b\uff0c\u9ed8\u8ba4\u503c\u4e3a (1,1)\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Structure Show ---\nst.structure_show(fig_type='png', show=False, savepath=f'{plot_path}{kL[0]}{simu_name}', simulation_name=simu_name,\n                  celldisplay=True, xyratio=(1, 1))\n# simu[simu_name].show3d(show_with=\"local_gui\")\n# endregion\n")),(0,p.kt)("h3",{id:"55-\u600e\u6837\u83b7\u53d6eme\u7aef\u53e3\u7684\u6a21\u5f0f\u7ed3\u679c"},"5.5 \u600e\u6837\u83b7\u53d6EME\u7aef\u53e3\u7684\u6a21\u5f0f\u7ed3\u679c\uff1f"),(0,p.kt)("p",null,"\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"eme_res.extract"),"\u83b7\u53d6\u4eff\u771f\u8ba1\u7b97\u540e\u7684\u7ed3\u679c\u3002\u5982\u4e0b\u6848\u4f8b\u4ee3\u7801\u6240\u793a\uff0c\u4ece\u7ed3\u679c\u4e2d\u63d0\u53d6\u7aef\u53e3\u6a21\u5f0f\uff0c\u5176\u4e2d\u8bbe\u7f6e",(0,p.kt)("inlineCode",{parentName:"p"},"data='eme_propagate:port_mode_info'"),"\u786e\u5b9a\u6240\u9700\u83b7\u53d6\u7ed3\u679c\u4e3aEME\u7aef\u53e3\u6a21\u5f0f\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"save_path"),"\u4e3a\u6570\u636e\u4fdd\u5b58\u8def\u5f84\uff0c\u7528",(0,p.kt)("inlineCode",{parentName:"p"},"attribute"),"\u786e\u5b9a\u63d0\u53d6\u6570\u636e\u5185\u5bb9\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"plot_x/ plot_y"),"\u4e3a\u753b\u7ebf\u56fe\u6216\u70ed\u5ea6\u56fe\u7684x, y\u8f74\u7eb5\u5750\u6807\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"real, imag"),"\u63a7\u5236\u8f93\u51fa\u6570\u636e\uff1a\u5168\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"False"),"\u65f6\uff0c\u7ed3\u679c\u503c\u539f\u6837\u8f93\u51fa\uff1b\u5168\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"True"),"\u65f6\uff0c\u7ed3\u679c\u503c\u53d6abs\uff1b\u6709\u4e00\u4e2a\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"True"),"\u65f6\uff0c\u8f93\u51fa\u5bf9\u5e94\u7684\u5b9e\u90e8/\u865a\u90e8\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"show"),"\u63a7\u5236\u662f\u5426\u663e\u793a\u56fe\u7247\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"export_csv "),"\u4e3a\u662f\u5426\u4fdd\u5b58\u6570\u636e\u4e3acsv\u6587\u4ef6\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"for port_name in ['eme_in', 'eme_out']:\n    res =  eme_res.extract(data='eme_propagate:port_mesh_structure',\n                           savepath=f'{plot_path}   {kL[3]}_eme_structure_{port_name}',\n                           port_name=port_name,  target='intensity', attribute=\"E\",\n                           # plot_x='y', plot_y='z', real=True, imag=True, \n                           # export_csv=False, show=False\n                          )\n")),(0,p.kt)("h3",{id:"56-\u600e\u6837\u83b7\u53d6emefdtd\u7684\u6a21\u573a\u56fe"},"5.6 \u600e\u6837\u83b7\u53d6EME/FDTD\u7684\u6a21\u573a\u56fe\uff1f"),(0,p.kt)("p",null,"\u540c\u6837\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"eme_res.extract"),"\u83b7\u53d6\u4eff\u771f\u8ba1\u7b97\u540e\u7684\u7ed3\u679c\u3002\u5982\u4e0b\u6848\u4f8b\u4ee3\u7801\u6240\u793a\uff0c\u8bbe\u7f6e",(0,p.kt)("inlineCode",{parentName:"p"},"data='eme_propagate:monitor'"),"\u786e\u5b9a\u6240\u9700\u83b7\u53d6\u76d1\u89c6\u5668\u7ed3\u679c\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"save_path"),"\u4e3a\u6570\u636e\u4fdd\u5b58\u8def\u5f84\uff0c\u7528",(0,p.kt)("inlineCode",{parentName:"p"},"attribute"),"\u786e\u5b9a\u63d0\u53d6\u6570\u636e\u5185\u5bb9\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"plot_x/ plot_y"),"\u4e3a\u753b\u7ebf\u56fe\u6216\u70ed\u5ea6\u56fe\u7684x, y\u8f74\u7eb5\u5750\u6807\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"real, imag"),"\u63a7\u5236\u8f93\u51fa\u6570\u636e\uff1a\u5168\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"False"),"\u65f6\uff0c\u7ed3\u679c\u503c\u539f\u6837\u8f93\u51fa\uff1b\u5168\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"True"),"\u65f6\uff0c\u7ed3\u679c\u503c\u53d6abs\uff1b\u6709\u4e00\u4e2a\u4e3a",(0,p.kt)("inlineCode",{parentName:"p"},"True"),"\u65f6\uff0c\u8f93\u51fa\u5bf9\u5e94\u7684\u5b9e\u90e8/\u865a\u90e8\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"show"),"\u63a7\u5236\u662f\u5426\u663e\u793a\u56fe\u7247\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"export_csv "),"\u4e3a\u662f\u5426\u4fdd\u5b58\u6570\u636e\u4e3acsv\u6587\u4ef6\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'eme_res.extract(data="eme_propagate:monitor", savepath=plot_path + "013_eme_z_normal",\n                monitor_name="z_normal", attribute="E", \n                # plot_x=\'y\', plot_y=\'z\', \n                # real=True, imag=True, \n                # export_csv=False, show=False\n                )\n')),(0,p.kt)("h3",{id:"57-\u600e\u6837\u8fdb\u884ceme\u957f\u5ea6\u626b\u63cf"},"5.7 \u600e\u6837\u8fdb\u884cEME\u957f\u5ea6\u626b\u63cf\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u4ee3\u7801\u6240\u793a\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},'data="propagation_sweep:sweep"'),"\u751f\u6210N \xd7 N\u5f20S\u53c2\u6570\u77e9\u9635\u957f\u5ea6\u626b\u63cf\u56fe\uff0cN\u4e3a\u7aef\u53e3\u6570\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'# region --- EME Propagation Sweep Results ---\nif run_options.run_length_sweep:\n    eme_res.extract(data="propagation_sweep:sweep", savepath=plot_path + "10_length_sweep", export_csv=True)\n# endregion\n')),(0,p.kt)("h3",{id:"58-\u600e\u6837\u8fdb\u884ceme\u6ce2\u957f\u626b\u63cf"},"5.8 \u600e\u6837\u8fdb\u884cEME\u6ce2\u957f\u626b\u63cf\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u4ee3\u7801\u6240\u793a\uff0c\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},'data="wavelength_sweep:sweep"'),"\u751f\u6210N \xd7 N\u5f20S\u53c2\u6570\u77e9\u9635\u6ce2\u957f\u626b\u63cf\u56fe\uff0cN\u4e3a\u7aef\u53e3\u6570\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},'# region --- EME Wavelength Sweep Results ---\nif run_options.run_wavelength_sweep:\n    eme_res.extract(data="wavelength_sweep:sweep", savepath=plot_path + "20_wavelength_sweep", plot_x="wavelength", export_csv=True)\n# endregion\n')),(0,p.kt)("h2",{id:"6-\u600e\u6837\u5728sdk\u4e2d\u8bbe\u7f6efdtd\u4eff\u771f"},"6. \u600e\u6837\u5728SDK\u4e2d\u8bbe\u7f6eFDTD\u4eff\u771f\uff1f"),(0,p.kt)("h3",{id:"61-\u600e\u6837\u8bbe\u7f6efdtd\u4eff\u771f\u4e2d\u6ce2\u957f"},"6.1 \u600e\u6837\u8bbe\u7f6eFDTD\u4eff\u771f\u4e2d\u6ce2\u957f\uff1f"),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"Waveform"),"\u652f\u63011550nm, 1310nm\u548c\u53ef\u89c1\u5149\u4e09\u79cd\u7c7b\u578b\u3002",(0,p.kt)("inlineCode",{parentName:"p"},"name"),"\u4e3awaveform \u7684\u540d\u5b57\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_center"),"\u4e3a\u4e2d\u5fc3\u6ce2\u957f\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_span"),"\u4e3a\u5e26\u5bbd\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"# region --- Waveform ---\nwv = pj.Waveform()\nwv.add(name=waveform_name, wavelength_center=wavelength, wavelength_span=0.1)\nwv_struct = wv[waveform_name]\n# endregion\n")),(0,p.kt)("h3",{id:"62-\u600e\u6837\u8bbe\u7f6efdtd\u4eff\u771f\u5149\u6e90"},"6.2 \u600e\u6837\u8bbe\u7f6eFDTD\u4eff\u771f\u5149\u6e90\uff1f"),(0,p.kt)("p",null,"\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"source"),"\u8bbe\u7f6eFDTD\u7684\u4eff\u771f\u5149\u6e90\uff0c\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002\u5176\u4e2d\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"type"),"\u5b9a\u4e49\u5149\u6e90\u7c7b\u578b\uff0c\u5728\u6ce2\u5bfc\u4e2d\u5e38\u7528\u6a21\u5f0f\u6e90\uff0c\u5728\u81ea\u7531\u7a7a\u95f4\u4e2d\u5e38\u7528\u9ad8\u65af\u6e90\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"axis"),"\u786e\u5b9a\u5149\u7684\u53c2\u8003\u8f74\uff0c\u5176\u53ef\u9009\u53c2\u6570\u5217\u8868\u6709xyz\u4e09\u4e2a\u65b9\u5411\uff0c\u5373",(0,p.kt)("inlineCode",{parentName:"p"},"x_forward/x_forward/x_forward"),"\uff1b\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"mode_selection"),", ",(0,p.kt)("inlineCode",{parentName:"p"},"mode_index"),"\u9009\u62e9\u7279\u5b9a\u7684\u6a21\u5f0f\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"waveform"),"\u53ef\u9009\u62e9\u7279\u5b9a\u7684waveform\uff1b",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\u8bbe\u7f6e\u5149\u6e90\u51e0\u4f55\u5c3a\u5bf8\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"src = pj.Source()\nsrc.add(name='source', type='mode_source', axis='x_forward',\n        property={'general': {\n            # 'amplitude': 1, 'phase': 0, 'mode_index': 0,        'rotations': {'theta': 0, 'phi': 0, 'rotation_offset': 0}\n            'mode_selection': 'user_select', 'waveform': {'waveform_id_select': wv_struct}\n        },\n            'geometry': {'x': ports['op_0']['position'][0], 'x_span': 0,\n                         'y': ports['op_0']['position'][1], 'y_span': monitor_w,\n                         'z': 0, 'z_span': monitor_h}})\n")),(0,p.kt)("h3",{id:"63-\u600e\u6837\u8bbe\u7f6efdtd\u7684\u76d1\u89c6\u5668"},"6.3 \u600e\u6837\u8bbe\u7f6eFDTD\u7684\u76d1\u89c6\u5668\uff1f"),(0,p.kt)("p",null,"\u4e0b\u9762\u7b80\u5355\u4ecb\u7ecdFDTD\u76d1\u89c6\u5668\u7684\u8bbe\u7f6e\uff0c\u5305\u542b\u5168\u5c40\u76d1\u89c6\u5668\u3001\u529f\u7387\u76d1\u89c6\u4ee5\u53ca\u6a21\u5f0f\u5c55\u5f00\u76d1\u89c6\u5668\u7684\u8bbe\u7f6e\u3002\u5982\u4e0b\u4ee3\u7801\u6240\u793a\uff0c\u5176\u4e2d\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"type='global_option'"),"\u9009\u53d6\u4e3a\u5168\u5c40\u76d1\u89c6\u5668\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_center"),"\u4e3a\u76d1\u89c6\u5668\u83b7\u53d6\u6ce2\u957f\u4e2d\u5fc3\u503c\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_span"),"\u4e3a\u6ce2\u957f\u8303\u56f4\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"frequency_points"),"\u4e3a\u76d1\u89c6\u5668\u5728\u8be5\u6ce2\u6bb5\u4e0b\u6240\u53d6\u70b9\u6570\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"mn = pj.Monitor()\nmn.add(name='Global Option', type='global_option',\n       property={'frequency_power': {  # 'sample_spacing': 'uniform', 'use_wavelength_spacing': True,\n           # ['min_max','center_span']\n           'spacing_type': 'wavelength', 'spacing_limit': 'center_span',\n           'wavelength_center': wavelength, 'wavelength_span': 0.1, \n")),(0,p.kt)("p",null,"\u5982\u4e0b\u5217\u4ee3\u7801\u6240\u793a\uff0c\u901a\u8fc7\u4ee3\u7801",(0,p.kt)("inlineCode",{parentName:"p"},"type='power_monitor'"),"\u8bbe\u7f6eFDTD\u4eff\u771f\u4e2d\u529f\u7387\u76d1\u89c6\u5668\u548c\u6a21\u5f0f\u5c55\u5f00\u76d1\u89c6\u5668\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"name"),"\u4e3a\u76d1\u89c6\u5668\u540d\u79f0\u3002\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"property"),"\u4e2d\u8bbe\u7f6e\u76d1\u89c6\u5668\u7684\u5404\u4e2a\u53c2\u6570\uff0c\u5982\u6ce2\u957f\u76f8\u5173\u53c2\u6570",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_center"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength_span"),"\u4ee5\u53ca",(0,p.kt)("inlineCode",{parentName:"p"},"frequency_points"),"\uff1b\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\u4e0b",(0,p.kt)("inlineCode",{parentName:"p"},"monitor_type"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"x/y/z"),"\u3001",(0,p.kt)("inlineCode",{parentName:"p"},"x_span/y_span/z_span"),"\u7684\u8bbe\u7f6e\u76d1\u89c6\u5668\u7684\u671d\u5411\u3001\u4f4d\u7f6e\u4ee5\u53ca\u5c3a\u5bf8\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"mn.add(name='through', type='power_monitor',\n       property={'general': {'frequency_profile': {'wavelength_center': wavelength, 'wavelength_span': 0.1,\n                                                   'frequency_points': 11}, },\n                 'geometry': {'monitor_type': '2d_x_normal',\n                              'x': ports['op_1']['position'][0], 'x_span': 0, 'y': ports['op_1']['position'][1],\n                              'y_span': monitor_w, 'z': 0, 'z_span': monitor_h},\n                 'mode_expansion': {\"enable\": True, 'direction': 'positive',\n                                    'mode_calculation': {\n                                        'mode_selection': 'user_select', 'mode_index': [0, 1, 2, 3],\n                                    'override_global_monitor_setting': {'wavelength_center': wavelength, 'wavelength_span': 0.1, 'frequency_points': 11}}}})\n")),(0,p.kt)("h3",{id:"64-\u600e\u6837\u8bbe\u7f6efdtd\u7684port\u76f8\u5173\u53c2\u6570"},"6.4 \u600e\u6837\u8bbe\u7f6eFDTD\u7684Port\u76f8\u5173\u53c2\u6570\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u5217\u4ee3\u7801\u6240\u793a\uff0c\u8bbe\u7f6eFDTD\u4eff\u771f\u4e2d\u7aef\u53e3\u7684\u76f8\u5173\u53c2\u6570\u3002\u5176\u4e2d",(0,p.kt)("inlineCode",{parentName:"p"},"waveform_id"),"\u786e\u5b9a\u8f93\u5165\u5149\u6ce2\u957f\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"source_port"),"\u786e\u5b9a\u8f93\u5165\u7aef\u53e3\u3002\u968f\u540e\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"add"),"\u4e0b\u901a\u8fc7",(0,p.kt)("inlineCode",{parentName:"p"},"type='fdtd_port'"),"\u6dfb\u52a0\u76f8\u5e94\u7684port\uff0cname\u4e3aport\u540d\uff0c\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"property"),"\u4e2d\u8bbe\u7f6e\u5176\u76f8\u5173\u53c2\u6570\uff0c\u5728",(0,p.kt)("inlineCode",{parentName:"p"},"geometry"),"\u4e2d\u8bbe\u7f6e\u7aef\u53e3\u7684\u4f4d\u7f6e\u548c\u5c3a\u5bf8\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"modal_properties"),"\u8bbe\u7f6e\u8f93\u5165\u5149\u7684\u76f8\u5173\u5c5e\u6027\uff0c\u5982",(0,p.kt)("inlineCode",{parentName:"p"},"inject_axis"),"\u5165\u5c04\u5149\u5149\u8f74\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"direction"),"\u5165\u5c04\u5149\u65b9\u5411\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"mode_selection"),"\u5149\u7684\u6a21\u5f0f\u9009\u62e9\u3002"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"pt = pj.Port(property={'waveform_id': wv_struct, 'source_port': 'port_left'})\nif run_options.matrix_sweep:\n    pt.add(name='port_left', type='fdtd_port',\n           property={'geometry': {'x': ports['op_0']['position'][0], 'x_span': 0, 'y': ports['op_0']['position'][1],\n                                  'y_span': monitor_w, 'z': 0, 'z_span': monitor_h},\n                     'modal_properties': {'general': {'inject_axis': 'x_axis', 'direction': 'forward',\n                    'mode_selection': 'fundamental',\n                                                      }}})\n    pt.add(name='port_right', type='fdtd_port',\n           property={'geometry': {'x': ports['op_1']['position'][0], 'x_span': 0, 'y': ports['op_1']['position'][1],\n                                  'y_span': monitor_w, 'z': 0, 'z_span': monitor_h},\n                     'modal_properties': {'general': {'inject_axis': 'x_axis', 'direction': 'backward',\n                     'mode_selection': 'fundamental',\n                                                          }}})\n")),(0,p.kt)("h3",{id:"65-\u600e\u6837\u62bd\u53d6fdtd\u7684\u76f8\u5173\u7ed3\u679c"},"6.5 \u600e\u6837\u62bd\u53d6FDTD\u7684\u76f8\u5173\u7ed3\u679c\uff1f"),(0,p.kt)("p",null,"\u5982\u4e0b\u5217\u4ee3\u7801\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"savepath")," \u4e3a\u4fdd\u5b58\u7684\u8def\u5f84\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"target='line'"),"\u4e3a\u7ebf\u56fe\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"target='intensity'"),"\u4e3a\u5f3a\u5ea6\u56fe\u50cf\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"attribute"),"\u786e\u5b9a\u4e86\u9700\u8981\u63d0\u53d6\u7684\u53c2\u6570\uff0c",(0,p.kt)("inlineCode",{parentName:"p"},"wavelength"),"\u6307\u5b9a\u6ce2\u957f\u3002"),(0,p.kt)("p",null,"\u63d0\u53d6\u529f\u7387\u76d1\u89c6\u5668\u7684\u67d0\u4e00\u4e2a\u6ce2\u957f\u4e0b\u7684\u6a21\u573a\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"fdtd_res.extract(data='fdtd:power_monitor', savepath=f'{plot_path}{kL[3]}_monitorT_modeprofile_fdtd',\n                         monitor_name='through', target='intensity', plot_x='y', plot_y='z', attribute='E', wavelength=f'{wavelength}', real=True, imag=False, export_csv=True, show=False)\n")),(0,p.kt)("p",null,"\u63d0\u53d6\u529f\u7387\u76d1\u89c6\u5668\u7684\u4e0d\u540c\u6ce2\u957f\u4e0b\u7684\u900f\u8fc7\u7387:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"fdtd_res.extract(data='fdtd:power_monitor', savepath=f'{plot_path}{kL[7]}_RlVsLambda_power',\n                 monitor_name='reflection', target='line', plot_x='wavelength', attribute='T', real=True, imag=False, export_csv=True, export_mat=True, show=False)\n")),(0,p.kt)("p",null,"\u63d0\u53d6\u6a21\u5f0f\u5c55\u5f00\u76d1\u89c6\u5668\u5bf9\u67d0\u4e2a\u529f\u7387\u76d1\u89c6\u5668\u67d0\u4e2a\u6a21\u5f0f\u7684\u54cd\u5e94\u7684\u7ed3\u679c:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"fdtd_res.extract(data='fdtd:mode_expansion', savepath=f'{plot_path}{kL[5]}_TransVsLambda_mode=0',\n                         monitor_name='through', target='line', plot_x='wavelength', mode=0, attribute='T_forward', real=True, imag=True, export_csv=True, export_mat=True, show=False)\n\n")),(0,p.kt)("p",null,"\u63d0\u53d6FDTD\u7684S\u77e9\u9635\u7ed3\u679c\uff1a"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-python"},"smatrix_res.extract(data='smatrix_sweep', savepath=f'{plot_path}{kL[8]}_smatrix_sweep',\n                        target='line', plot_x='wavelength', real=True, imag=True, export_csv=True, export_mat=True, show=False)\n")),(0,p.kt)("h3",{id:"66-\u4e3a\u4ec0\u4e48fdtd\u7684smatrix\u4f1a\u51fa\u73b0\u5927\u4e8e1\u7684\u60c5\u51b5"},"6.6 \u4e3a\u4ec0\u4e48FDTD\u7684Smatrix\u4f1a\u51fa\u73b0\u5927\u4e8e1\u7684\u60c5\u51b5\uff1f"),(0,p.kt)("p",null,"\u5f53FDTD\u4eff\u771f\u533a\u57df\u5b58\u5728\u5149\u6e90\u65f6\uff0c\u4f1a\u5bfc\u81f4Smatrix\u77e9\u9635\u4f1a\u51fa\u73b0\u9519\u8bef\u7ed3\u679c\uff0c\u4f8b\u5982\u67d0\u4e9b\u7aef\u53e3\u54cd\u5e94\u5927\u4e8e1\u3002\u5728\u8fdb\u884cSmatrix\u7684\u8ba1\u7b97\u65f6\uff0c\u9700\u8981\u4fdd\u8bc1\u4eff\u771f\u533a\u57df\u4e2d\u4e0d\u5b58\u5728\u5149\u6e90\u3002"))}_.isMDXComponent=!0}}]);