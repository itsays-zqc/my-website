"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2293],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var m=n.createContext({}),p=function(e){var t=n.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(m.Provider,{value:t},e.children)},s="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,m=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),s=p(a),c=r,u=s["".concat(m,".").concat(c)]||s[c]||f[c]||i;return a?n.createElement(u,l(l({ref:t},d),{},{components:a})):n.createElement(u,l({ref:t},d))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=c;var o={};for(var m in t)hasOwnProperty.call(t,m)&&(o[m]=t[m]);o.originalType=e,o[s]="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},79282:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>l,default:()=>f,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={},l="Source",o={unversionedId:"manual/SDK/4Source",id:"manual/SDK/4Source",title:"Source",description:"The subsequent code will exemplify the process of incorporating a light source and port within a simulation project.",source:"@site/docs/manual/SDK/4Source.md",sourceDirName:"manual/SDK",slug:"/manual/SDK/4Source",permalink:"/docs/manual/SDK/4Source",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"manualSidebar",previous:{title:"Localmesh",permalink:"/docs/manual/SDK/3Mesh"},next:{title:"Monitor",permalink:"/docs/manual/SDK/5Mornitor"}},m={},p=[{value:"4.1 Waveform",id:"41-waveform",level:2},{value:"Set frequency wavelength",id:"set-frequency-wavelength",level:3},{value:"Set time domain",id:"set-time-domain",level:3},{value:"4.2 Mode source",id:"42-mode-source",level:2},{value:"General",id:"general",level:3},{value:"Geometry",id:"geometry",level:3},{value:"Boundary conditions",id:"boundary-conditions",level:3},{value:"Modal analysis",id:"modal-analysis",level:3},{value:"4.3 Gaussian source",id:"43-gaussian-source",level:2},{value:"General",id:"general-1",level:3},{value:"Geometry",id:"geometry-1",level:3},{value:"4.3 FDTD port",id:"43-fdtd-port",level:2},{value:"Geometry",id:"geometry-2",level:3},{value:"Boundary conditions",id:"boundary-conditions-1",level:3},{value:"Modal analysis",id:"modal-analysis-1",level:3},{value:"4.4 EME port",id:"44-eme-port",level:2},{value:"Geometry",id:"geometry-3",level:3},{value:"EME port",id:"eme-port",level:3},{value:"Boundary conditions",id:"boundary-conditions-2",level:3},{value:"Modal analysis",id:"modal-analysis-2",level:3},{value:"5 Optical Generation",id:"5-optical-generation",level:2}],d={toc:p},s="wrapper";function f(e){let{components:t,...a}=e;return(0,r.kt)(s,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"source"},"Source"),(0,r.kt)("font",{face:"Calibri"},(0,r.kt)("div",{class:"text-justify"},(0,r.kt)("p",null,"The subsequent code will exemplify the process of incorporating a light source and port within a simulation project."),(0,r.kt)("p",null,"As of now, the source module accommodates the inclusion of mode source and Gaussian source. Furthermore, our platform extends support for ports into both EME and FDTD simulations."),(0,r.kt)("h2",{id:"41-waveform"},"4.1 Waveform"),(0,r.kt)("p",null,"In FDTD simulations, waveforms are utilized to control the bandwidth of the source pluse. You can simply enter the central wavelength and range into the added waveform, and the bandwidth and shape of the pulse source will be automatically calculated."),(0,r.kt)("p",null,"The syntax and properties for adding waveform are as follows. This function does not return any data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'add(\n        name: str,\n        type: Literal["gaussian_waveform"],\n        property: dict\n    )\n\n')),(0,r.kt)("h3",{id:"set-frequency-wavelength"},"Set frequency wavelength"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"range_type"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Selects "frequency" or "wavelength".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"range_limit"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Selects "min_max" or "center_span".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"wavelength_center, frequency_center"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The wavelength center and frequency center.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"wavelength_span, frequency_span"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The wavelength span and frequency span.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"wavelength_min, wavelength_max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The minimum wavelength and maximum wavelength.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"frequency_min, frequency_max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The minimum frequency and maximum frequency.")))),(0,r.kt)("h3",{id:"set-time-domain"},"Set time domain"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"pulsetype"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Set the source to standard or broadband.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"frequency"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The center frequency of the optical carrier.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"pulselength"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The duration of the pulse's full width at half maximum power.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"offset"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The time it takes for the source to reach its peak amplitude, measured relative to the start of the simulation.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"bandwidth"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The full width at half maximum frequency of the time-domain pulse.")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("p",null,"The following script adds a gaussian waveform by setting the wavelength to 1.55 um and the wavelength span to 0.1 um. This script assumes that FDTD solver has been added to the simulation environment, and the pj is an instance of the project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'waveform name = "wv1550"\nwv = pj.Waveform()\nwv.add(name=waveform name, type="gaussian_waveform",\n        property={"set": "frequency_wavelength",  # selections are ["frequency wavelength","time domain"]\n                  "set frequency_wavelength": {\n                        "range_type": "wavelength",  # selections are ["frequency","wavelength"]\n                        "range_limit": "center_span",  # selections are ["min max","center span"]\n                        "wavelength_center": 1.55,\n                        "wavelength__span": 0.1,\n                    }})\n')),(0,r.kt)("h2",{id:"42-mode-source"},"4.2 Mode source"),(0,r.kt)("p",null,"The syntax and properties for adding mode source are as follows. This function does not return any data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'add(\n        name: str,\n        type: Literal["mode_source"],\n        property: dict,\n    )\n')),(0,r.kt)("h3",{id:"general"},"General"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"inject axis"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the mode source propagation along the x-axis, y-axis or zaxis.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"direction"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"forward"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the forward or backward direction of propagation for the mode source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"amplitude"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1.0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specifies the peak amplitude of the electric field, with the unit in V/m.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"phase"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"0.0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specifies the initial phase of the source, with the unit in degrees.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"mode_selection"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Selects "fundamental", "fundamental TE", "fundamental TM" or "user select" to inject mode.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"mode_index"),(0,r.kt)("td",{parentName:"tr",align:"left"},"integer"),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the mode number from the list of calculated modes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"search"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"max_index"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Selects "max index" or "near n" to search modes.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"n"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1.0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Searchs modes near the specified effective index.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"number_of_trial_modes"),(0,r.kt)("td",{parentName:"tr",align:"left"},"integer"),(0,r.kt)("td",{parentName:"tr",align:"center"},"20"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Records the maximum number of modes in the mode list.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"waveform"),(0,r.kt)("td",{parentName:"tr",align:"left"},"object"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the waveform ID from source pulse waveform list.")))),(0,r.kt)("h3",{id:"geometry"},"Geometry"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x, y, z"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The center position of the mode source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x span, y span, z span"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X span, Y span, Z span of the mode source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x min, x max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X min, X max position of the mode source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"y min, y max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y min, Y max position of the mode source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"z min, z max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Z min, Z max position of the mode source.")))),(0,r.kt)("h3",{id:"boundary-conditions"},"Boundary conditions"),(0,r.kt)("p",null,'Select the override default boundary conditions to True, and each boundary condition can be set separately. The optional boundary conditions include "PEC", "PMC", "PML", "symmetric" or "anti symmetric".'),(0,r.kt)("h3",{id:"modal-analysis"},"Modal analysis"),(0,r.kt)("p",null,"If the fraction of magnetic field intensity in PML is greater than the specified threshold, the mode is discarded."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("p",null,"The following script adds a mode source in FDTD simulation, sets the position and dimension of the light source, as well as the mode profile and waveform. This script assumes that FDTD solver has been added to the simulation environment, and the pj is an instance of the project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'wv_id = wv["waveform_name"]     # Selects the waveform ID from source pulse waveform list.\nsrc = pj.Source()\nsrc.add(name="source", type="mode_source", property={\n                    "general": {"amplitude": 1, "phase": 0, "rotations": {"theta": 0, "phi": 0, "rotation_offset": 0},\n                    "mode_selection": "fundamental", "waveform": {"waveform_id": wv_id},\n                    "inject_axis": "x axis", "direction": "forward"},\n                    "geometry": {"x": 0, "x span": 0, "y": 0, "y span": 3, "z": 0, "z span": 3},\n                    "modal_analysis": {"mode_removal": {"threshold": 0.01}}})\n')),(0,r.kt)("h2",{id:"43-gaussian-source"},"4.3 Gaussian source"),(0,r.kt)("p",null,"The syntax and properties for adding gaussian source are as follows. This function does not return any data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'add(\n        name: str,\n        type: Literial["gaussian source"],\n        property: dict,\n    )\n')),(0,r.kt)("h3",{id:"general-1"},"General"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"inject_axis"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the mode source propagation along the x-axis, y-axis or zaxis.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"direction"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"left"},"forward"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the forward or backward direction of propagation for the mode source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"amplitude"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"left"},"1.0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specifies the peak amplitude of the electric field, with the unit in V/m.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"phase"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0.0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Specifies the initial phase of the source, with the unit in degrees.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"waveform"),(0,r.kt)("td",{parentName:"tr",align:"left"},"object"),(0,r.kt)("td",{parentName:"tr",align:"left"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the waveform ID from source pulse waveform list.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"angle_theta"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The angle between the propagation direction and the injection axis of source, with the unit in degrees.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"angle_phi"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"In a right-hand coordinate system, the angle of propagation is rotated around the injection axis of the source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"polarization_angle"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"left"},"0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The polarization angle defines the orientation of the injected electric field. A polarization angle of zero degrees indicates P-polarized radiation, while an angle of 90 degrees indicates S-polarized radiation.")))),(0,r.kt)("p",null,"beam_settings:",(0,r.kt)("br",null),'\nBeam_parameters: Selects "waist_size_and_position" or "beam_size_and_divergence" to set the beam parameters. Waist_radius and distance_from_caist are valid when beam_parameters is set to waist_steze_1and_position. Similarly, beam_radius and divergence_angle are valid when beam_marameters is selected as beam_size_and_divergence.',(0,r.kt)("br",null),"\nwaist radius: 1/e field (1/e2 power) radius of the beam for a Gaussian beam.",(0,r.kt)("br",null),"\ndistance from waist: The distance between the injection plane and the beam waist. A positive distance indicates a diverging beam, while a negative distance indicates a converging beam.\nbeam radius: 1/e field (1/e2 power) radius of the beam for a Gaussian beam.",(0,r.kt)("br",null),"\ndivergence angle: The radiation divergence angle measured in the far field. A positive angle indicates a diverging beam, while a negative angle indicates a converging beam."),(0,r.kt)("h3",{id:"geometry-1"},"Geometry"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x, y, z"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The center position of the gaussian source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x span, y span, z span"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X span, Y span, Z span of the gaussian source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x min, x max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X min, X max position of the gaussian source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"y min, y max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y min, Y max position of the gaussian source.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"z min, z max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Z min, Z max position of the gaussian source.")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("p",null,"The following script adds a gaussian source in FDTD, sets the position and dimension of the light source, as well as the mode profile and waveform. This script assumes that FDTD solver has been added to the simulation environment, and the pj is an instance of the project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'wv_id = wv["waveform_name"]     # Selects the waveform ID from source pulse waveform list.\nso = pj.Source()\nso.add(name="source", type="gaussian_source", axis="z_backward",\n           property={"general": {"angle_theta": 0, "angle phi": 0, "polarization_angle": 0, "waveform": {"waveform_id": wv_id},\n                                 "beam_settings": {"calculation method": "use_scalar_approximation",\n                                                   "beam_parameters": "waist_size_and_position",\n                                                   "waist_radius": 5.2, "distance_from_waist": 1.5}},\n                     "geometry": {"x": 4, "x span": 20, "y": 0, "y span": 20, "z": 1.5, "z span": 0}})\n\n')),(0,r.kt)("h2",{id:"43-fdtd-port"},"4.3 FDTD port"),(0,r.kt)("p",null,"Incorporate a port into the current FDTD simulation project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'add(\n        name: str,\n        type: Literal["fdtd port"],\n        property: dict\n    )\n')),(0,r.kt)("h3",{id:"geometry-2"},"Geometry"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x, y, z"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The center position of the FDTD port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x span, y span, z span"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X span, Y span, Z span of the FDTD port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x min, x max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X min, X max position of the FDTD port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"y min, y max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y min, Y max position of the FDTD port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"z min, z max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Z min, Z max position of the FDTD port.")))),(0,r.kt)("h3",{id:"boundary-conditions-1"},"Boundary conditions"),(0,r.kt)("p",null,'Select the override default boundary conditions to True, and each boundary condition can be set separately. The optional boundary conditions include "PEC", "PMC", "PML", "symmetric" or "anti symmetric".'),(0,r.kt)("h3",{id:"modal-analysis-1"},"Modal analysis"),(0,r.kt)("p",null,"If the fraction of magnetic field intensity in PML is greater than the specified threshold, the mode is discarded."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("p",null,"The following script adds a port in FDTD simulation, sets the position and dimension of the light source, as well as the mode profile and waveform. This script assumes that FDTD solver has been added to the simulation environment, and the pj is an instance of the project."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'wv_id = wv["waveform_name"]     # Selects the waveform ID from source pulse waveform list.\npt = pj.Port(property={"waveform_id": wv_id, "source port": "port_left"})\npt.add(name="port_left", type="fdtd_port",\n       property={"geometry": {"x": 0, "x span": 0, "y": 0,\n                              "y span": 3, "z": 0, "z span": 3},\n                 "modal_properties": {"general": {"inject axis": "x_axis", "direction": "forward",\n                                      "mode_selection": "fundamental"}}})\n')),(0,r.kt)("h2",{id:"44-eme-port"},"4.4 EME port"),(0,r.kt)("p",null,"The syntax and properties for adding mode source are as follows. This function does not return any data."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'add(\n        name: str,\n        type: Literal["eme_port"],\n        property: dict,\n    )\n')),(0,r.kt)("h3",{id:"geometry-3"},"Geometry"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"port location"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Set the location of EME port, selections are "left" and "right".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"use full simulation span"),(0,r.kt)("td",{parentName:"tr",align:"left"},"boolean"),(0,r.kt)("td",{parentName:"tr",align:"center"},"True"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Set whether the port uses the full simulation area, selections are "True" and "False".')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x, y, z"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"The center position of the EME port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x span, y span, z span"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Xspan, Y span, Z span of the EME port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"x min, x max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"X min, X max position of the EME port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"y min, y max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Y min, Y max position of the EME port.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"z min, z max"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"-"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Z min, Z max position of the EME port.")))),(0,r.kt)("h3",{id:"eme-port"},"EME port"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"mode selection"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"left"},'Selects "fundamental", "fundamental TE", "fundamental TM" or "user select" to inject mode.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"mode index"),(0,r.kt)("td",{parentName:"tr",align:"left"},"integer"),(0,r.kt)("td",{parentName:"tr",align:"center"},"0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Selects the mode number from the list of calculated modes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"search"),(0,r.kt)("td",{parentName:"tr",align:"left"},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"max index"),(0,r.kt)("td",{parentName:"tr",align:"left"},'Selects "max index" or "near n" to search modes.')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"n"),(0,r.kt)("td",{parentName:"tr",align:"left"},"number"),(0,r.kt)("td",{parentName:"tr",align:"center"},"1.0"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Searchs modes near the specified effective index.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"number of trial modes"),(0,r.kt)("td",{parentName:"tr",align:"left"},"integer"),(0,r.kt)("td",{parentName:"tr",align:"center"},"20"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Records the maximum number of modes in the mode list.")))),(0,r.kt)("h3",{id:"boundary-conditions-2"},"Boundary conditions"),(0,r.kt)("p",null,'Select the override default boundary conditions to True, and each boundary condition can be set separately. The optional boundary conditions include "PEC", "PMC", "PML", "symmetric" or "anti symmetric".'),(0,r.kt)("h3",{id:"modal-analysis-2"},"Modal analysis"),(0,r.kt)("p",null,"If the fraction of magnetic field intensity in PML is greater than the specified threshold, the mode is discarded."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:"),'\nThe following script adds ports in EME simulation, selects the mode of "port1" as the source, and sets the calculation fundamental mode and the size is the span of the full simulation area.  This script assumes that EME solver has been added to the simulation environment, and the pj is an instance of the project.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'pjp = pj.Port(property={"source_port": "port1"})\npjp.add(name="port1", type="eme_port",\n        property={"geometry": {"port_location": "left", "use_full_simulation span": True},\n                  "eme_port": {"general": {"mode_selection": "user_select", "mode_index": 0, "number_of_trial_modes": 20}}})\npjp.add(name="port2", type="eme_port",\n        property={"geometry": {"port_location": "right", "use_full_simulation_span": True},\n                  "eme_port": {"general": {"mode_selection": "user_select", "mode_index": 0, "number_of_trial_modes": 20}}})\n\n')),(0,r.kt)("h2",{id:"5-optical-generation"},"5 Optical Generation"),(0,r.kt)("p",null,"To calculate optical current in simulations, users need to import optical generation rate data with coordinate information. There are three methods for leading optical generation in simulation:"),(0,r.kt)("p",null,'Users can select "import_data" in the "DataSpace" section and set up property of source.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},'add_ddm_settings(pj, run_options)\n\n    ds = pj.DataSpace()\n\n    ds.import_data(name="gen", type="generation", property={\n        "path": gen_rate_file\n    })\n\n    src = pj.Source()\n    src.add(name="gen", type="optical_generation", property={\n        "general": {"generation_data": ds["gen"], "source_fraction": 0.001},\n        "transient": {"envelop": "uniform"}\n    })\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Name"),": Users can read and edit the name of this generation rate, which defaults to the name of the imported file."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"path"),"--Here it's not empty, meaning that the file at the path will be imported to the ",(0,r.kt)("inlineCode",{parentName:"p"},"DDM")," solver\n",(0,r.kt)("inlineCode",{parentName:"p"},"source_fraction"),"--Set the scaling factor for the light power. The imported optical generation rate will be multiplied by this factor first, and then be used to solve the carrier transport"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Transient"),':\nChoosing "Uniform" requires users to define "Amplitude" and "Time Delay\u201d.\n',(0,r.kt)("inlineCode",{parentName:"p"},"Amplitude"),": Set the maximum amplitude of the mode source.\n",(0,r.kt)("inlineCode",{parentName:"p"},"Time Delay"),": Define the delay time before opening the source.\nFor ",(0,r.kt)("inlineCode",{parentName:"p"},"Pulse"),", users should define parameters such as ",(0,r.kt)("inlineCode",{parentName:"p"},"High Amplitude"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Low Amplitude"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Time Delay"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Rising Edge"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Falling Edge"),",",(0,r.kt)("inlineCode",{parentName:"p"},"Pulse Width")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Period"),".\n",(0,r.kt)("inlineCode",{parentName:"p"},"Pulse"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"High Amplitude"),": Amplitude of pulse after on shutter."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Low Amplitude"),": Amplitude of pulse after off shutter."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Time Delay"),":\nTime Delay, Rising Edge, Falling Edge, Pulse Width, and Period: Specify timing and duration parameters. The period's duration should be large.")))))}f.isMDXComponent=!0}}]);