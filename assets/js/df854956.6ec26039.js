"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1143],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>k});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),m=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=m(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),c=m(r),g=a,k=c["".concat(l,".").concat(g)]||c[g]||s[g]||i;return r?n.createElement(k,o(o({ref:t},d),{},{components:r})):n.createElement(k,o({ref:t},d))}));function k(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=g;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[c]="string"==typeof e?e:a,o[1]=p;for(var m=2;m<i;m++)o[m]=r[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},92394:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>s,frontMatter:()=>i,metadata:()=>p,toc:()=>m});var n=r(87462),a=(r(67294),r(3905));const i={},o="Preview",p={unversionedId:"test/SDK/9Preview",id:"test/SDK/9Preview",title:"Preview",description:"In this section, we currently offer the capability to provide an advanced preview of structural models, refractive index and doping profile.",source:"@site/docs/test/SDK/9Preview.md",sourceDirName:"test/SDK",slug:"/test/SDK/9Preview",permalink:"/my-website/docs/test/SDK/9Preview",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/test/SDK/9Preview.md",tags:[],version:"current",frontMatter:{},sidebar:"testSidebar",previous:{title:"Extract result",permalink:"/my-website/docs/test/SDK/8Extract"}},l={},m=[{value:"8.1 Preview index",id:"81-preview-index",level:2},{value:"8.2 Preview mode",id:"82-preview-mode",level:2},{value:"8.3 Structure show and show 3D",id:"83-structure-show-and-show-3d",level:2},{value:"8.4 Run doping",id:"84-run-doping",level:2}],d={toc:m},c="wrapper";function s(e){let{components:t,...r}=e;return(0,a.kt)(c,(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"preview"},"Preview"),(0,a.kt)("font",{face:"Calibri"},(0,a.kt)("div",{class:"text-justify"},(0,a.kt)("p",null,"In this section, we currently offer the capability to provide an advanced preview of structural models, refractive index and doping profile."),(0,a.kt)("p",null,"This preview serves to validate the structues before initiating the formal simulation, thereby assisting in verifying the accuracy of the structures. Consequently, it leads to reduced simulation time and an overall enhancement of simulation efficiency."),(0,a.kt)("h2",{id:"81-preview-index"},"8.1 Preview index"),(0,a.kt)("p",null,"The code contained in this module enables a preview of the refractive index images with various structures."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"preview_index(\n            self,\n            *,\n            property: RunIndex,\n            name: str,\n            export_csv: bool = False,\n            show: bool = False,\n            savepath: str = 'a',\n            export_n: bool = True,\n            export_c: bool = False,\n            max_index: Optional[int] = None,\n            max_sigma: Optional[int] = None,\n    )\n")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},(0,a.kt)("strong",{parentName:"th"},"Parameters")),(0,a.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"property"),(0,a.kt)("td",{parentName:"tr",align:"center"},"To set the properties of index monitor.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"monitor_name"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The name of power monitor in the simulation.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"export_csv"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide whether to export the data as csv format or not. The default is False.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"show"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide whether to show index preview figure or not. The default is False.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"savepath"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Define the save path for the csv data and the picture. The default is 'a'.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"export_n"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide whether to export the real part of index ,such as nx, ny, nz... . The default is True.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"export_c"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide whether to export the imaginary part of index, such as \u03c3x, \u03c3y, \u03c3z... . The default is False.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"max_index"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The maximum index of heatmap colorbar. The default is None.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"max_sigma"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The maximum sigma of heatmap colorbar.The default is  None.")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'    if run_options.index_preview:\n        simu[simu_name].preview_index(\n            monitor_name="reflection", savepath=f"{plot_path}0A_Preview_reflection_index", export_csv=True, show=False, )\n        simu[simu_name].preview_modes(\n            monitor_name="reflection", savepath=f"{plot_path}0A_Preview_reflection_modes", export_csv=True, show=False, )\n')),(0,a.kt)("h2",{id:"82-preview-mode"},"8.2 Preview mode"),(0,a.kt)("h2",{id:"83-structure-show-and-show-3d"},"8.3 Structure show and show 3D"),(0,a.kt)("p",null,"This portion of the code is primarily intended for show structure. Please note that this method becomes invalid if the current structure manager contains Pyramid or Arc-Waveguide 3D type geometries."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'structure_show(\n            self,\n            *,\n            mode="XY",\n            show: bool,\n            savepath: str,\n            fig_type: Literal["png", "svg"] = "png",\n            simulation_name: Optional[str] = None,\n            disabled_components: Tuple[\n                Literal[\n                    "materials",\n                    "helpers",\n                    "box",\n                    "box.coordinate",\n                    "box.cavity",\n                    "ModeSource",\n                    "PowerMonitor",\n                    "ProfileMonitor",\n                    "FDTDPortGroup",\n                ],\n                ...\n            ] = tuple(),\n            xyratio=(1, 1),\n            celldisplay=False\n    )\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},(0,a.kt)("strong",{parentName:"th"},"Parameters")),(0,a.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"mode"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Specify the orientation of the structure preview function.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"show"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide whether to show directly the preview of structure directly in the related software.If set to False, the picture will be saved instead.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"savepath"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide the save path of the preivew picture.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"fig_type"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide the suffix(type) of the preivew picture.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"simulation_name"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The simulation name.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"disabled_components"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Disable the components from showing.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"xyratioZoom multiplier of x and y direction."),(0,a.kt)("td",{parentName:"tr",align:"center"},"Zoom multiplier of x and y direction.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"celldisplay"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Whether to show eme cells.")))),(0,a.kt)("p",null,"Show 3D structure in a pop up windows."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'show3d(self, show_with: Literal["webviewer", "matplotlib"\uff0c"local_gui"] = "webviewer")\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},(0,a.kt)("strong",{parentName:"th"},"Parameters")),(0,a.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"show_with"),(0,a.kt)("td",{parentName:"tr",align:"center"},'Choose the type of display. The selection are "webviewer", "matplotlib"\uff0c"local_gui". The "webviewer" will start a server and toggle a browser windows. "matplotlib" will toggle a Axes3D windows. Default as "webviewer".')))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"st.structure_show(fig_type='png', show=False,\n                  savepath=f'{plot_path}{kL[0]}{simu_name}', simulation_name=simu_name)\nsimu[simu_name].show3d(show_with=\"local_gui\")\n")),(0,a.kt)("h2",{id:"84-run-doping"},"8.4 Run doping"),(0,a.kt)("p",null,"The code within this module enables the preview of doping results for the respective structures."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"run_doping(\n            self,\n            name: str,\n            property: RunDopingPostProcess,\n            norm: str,\n            scale: str,\n            superimpose: bool,\n            show: bool,\n            material_list: list,\n            cmin: float,\n            savepath: str\n    )\n")),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},(0,a.kt)("strong",{parentName:"th"},"Parameters")),(0,a.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"property"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The properties of doping preview.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"name"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The name of doping preview.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"show"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Decide whether to show directly the preview of structure directly in the related software.If set to False, the picture will be saved instead.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"savepath"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The save path for picture.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"norm"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The normalization of colorbar. Selections are ","['linear', 'log']",". Default as 'linear'.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"scale"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The type of  pcture scale. Selections are ","['equal', 'auto']",". Default as 'equal'.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"superimpose"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Superimpose doping on structure or not. Default as True.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"material_list"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Specified material type list. Default as [].")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"region_list"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Specified region name list. Default as []. Superior to material_list when not empty.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"cmax"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Maximum concentration of heatmap colorbar. Default as None.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"cmin"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Minimum concentration of heatmap colorbar. Default as None.")))),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'simu["preview_oedevice"].run_doping(name="x_in", property={\n        "geometry": {"dimension": "2d_x_normal", "x": oe_x_mean, "x_span": 0, "y": oe_y_mean, "y_span": oe_y_span, "z_min": oe_z_min, "z_max": oe_z_max}},\n        norm="log", scale="equal", superimpose=False, show=False,\n        material_list=["Ge", "Si"], cmin=8e5, savepath=plot_path + simu_name + "_" + time_str + "doping_x_in")\n')),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"center"},"Parameters"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Default"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"center"},"Notes"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.dimension"),(0,a.kt)("td",{parentName:"tr",align:"center"}),(0,a.kt)("td",{parentName:"tr",align:"center"},"string"),(0,a.kt)("td",{parentName:"tr",align:"center"},"Set the orientation of the doping region. The selections are ","['2d_x_normal', '2d_y_normal', '2d_z_normal']",".")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.x"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The x-coordinate of the center point position of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.x_span"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The length in x direction of the doping region. Restrained by condition: >0.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.x_min"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The minimum x-coordinate endpoint data of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.x_max"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The maximum x-coordinate endpoint data of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.y"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The y-coordinate of the center point position of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.y_span"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The width in y direction of the doping region. Restrained by condition: >0.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.y_min"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The minimum y-coordinate endpoint data of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.y_max"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The maximum y-coordinate endpoint data of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.z"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The z-coordinate of the center point position of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.z_span"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The thinckness in z direction of the doping region. Restrained by condition: >0.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.z_min"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The z-coordinate of the bottom position of the thickness of the doping region.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"center"},"geometry.z_max"),(0,a.kt)("td",{parentName:"tr",align:"center"},"-"),(0,a.kt)("td",{parentName:"tr",align:"center"},"float"),(0,a.kt)("td",{parentName:"tr",align:"center"},"The z-coordinate of the top position of the thickness of the doping region.")))))))}s.isMDXComponent=!0}}]);