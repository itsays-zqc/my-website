"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[800],{14431:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>m});var a=n(87462),i=(n(67294),n(3905));n(87617);const o={},r="Directional Coupler",s={unversionedId:"examples/GUI Examples/PIC/DirectionalCoupler/DirectionalCoupler",id:"examples/GUI Examples/PIC/DirectionalCoupler/DirectionalCoupler",title:"Directional Coupler",description:"Introduction",source:"@site/docs/examples/GUI Examples/PIC/DirectionalCoupler/DirectionalCoupler.md",sourceDirName:"examples/GUI Examples/PIC/DirectionalCoupler",slug:"/examples/GUI Examples/PIC/DirectionalCoupler/",permalink:"/my-website/docs/examples/GUI Examples/PIC/DirectionalCoupler/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/examples/GUI Examples/PIC/DirectionalCoupler/DirectionalCoupler.md",tags:[],version:"current",frontMatter:{},sidebar:"examplesSidebar",previous:{title:"Passive Devices",permalink:"/my-website/docs/category/passive-devices"},next:{title:"Grating Coupler",permalink:"/my-website/docs/examples/GUI Examples/PIC/GratingCoupler/"}},l={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Simulation",id:"simulation",level:2},{value:"1. Simulation Structure",id:"1-simulation-structure",level:3},{value:"2. Simulation Steps",id:"2-simulation-steps",level:3},{value:"2.1 Define Parameters",id:"21-define-parameters",level:4},{value:"2.2 Define Materials",id:"22-define-materials",level:4},{value:"2.3 Define Waveform",id:"23-define-waveform",level:4},{value:"2.4 Create ModelBoundary",id:"24-create-modelboundary",level:4},{value:"2.5 FDTD Simulation/local mesh",id:"25-fdtd-simulationlocal-mesh",level:4},{value:"2.6 Source",id:"26-source",level:4},{value:"2.7 Monitor",id:"27-monitor",level:4},{value:"2.8 Calculate Source",id:"28-calculate-source",level:4},{value:"2.9 Run Simulation",id:"29-run-simulation",level:4},{value:"2.10 Analysis",id:"210-analysis",level:4},{value:"2.11 Results",id:"211-results",level:4},{value:"2.12 Switches",id:"212-switches",level:4},{value:"3. Output Results",id:"3-output-results",level:3},{value:"References",id:"references",level:2}],p={toc:m},d="wrapper";function u(e){let{components:t,...o}=e;return(0,i.kt)(d,(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"directional-coupler"},"Directional Coupler"),(0,i.kt)("font",{face:"Calibri"},(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Directional couplers (DC) are an important category of optical splitters. They are typically composed of two adjacent single-mode waveguides, and the coupling coefficient is determined by both the length of the coupler and the spacing between them. This feature allows for effective control of the splitting ratio."),(0,i.kt)("p",null,"When it comes to directional couplers, we pay close attention to several key parameters, including ",(0,i.kt)("strong",{parentName:"p"},"insertion loss"),", ",(0,i.kt)("strong",{parentName:"p"},"splitting ratio"),", ",(0,i.kt)("strong",{parentName:"p"},"device dimensions"),", and ",(0,i.kt)("strong",{parentName:"p"},"operating bandwidth"),".")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"introDC1",src:n(20055).Z,width:"1044",height:"573"})),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"introDC2",src:n(89542).Z,width:"751",height:"521"}))))),(0,i.kt)("h2",{id:"simulation"},"Simulation"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"FDTD module")," can be used to perform precise calculations of light propagation in the DC. The light field transmission images in the monitor allow for a visual assessment,the related data of which facilitate further optimization and validation of the coupling length and spacing parameters in the DC splitter."),(0,i.kt)("p",null,"After data processing, it can be obtained that the splitting ratio, insertion loss, and operating bandwidth of DC. In designing high-performance directional couplers for various optical communication and integrated photonics applications, these calculations and optimization processes are instrumental.")),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Next, we will learn how to model a Directional Coupler using the SDK and calculate the light propagation in the structure using the FDTD module.")),(0,i.kt)("h3",{id:"1-simulation-structure"},"1. Simulation Structure"),(0,i.kt)("div",{class:"text-justify"}),(0,i.kt)("h3",{id:"2-simulation-steps"},"2. Simulation Steps"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Next, we will continue to learn about the specific functionalities corresponding to the code.")),(0,i.kt)("h4",{id:"21-define-parameters"},"2.1 Define Parameters"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Like the operations with the FDE module, after configuring the simulation wavelength, grid precision, and other parameters, we need to set the relevant parameters for simulation and parameterized modeling in Region 0. This includes defining the paths and names for the simulation files and output results and specifying the path for importing the GDS layout.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 0. General Parameters ---\nl_bend=5.6 # the length of z bend\nl_beam=15 # the length of 2 beams\nl_input=2.5 # the length of input wg\nmonitor_w = 3.0\nmonitor_h = 2.0\nwaveform_name = "wv" + str(round(wavelength * 1000))\ntime_str = time.strftime("%Y%m%d_%H%M%S", time.localtime())\npath = kwargs["path"]\nsimu_name = "FDTD_DC"\nproject_name = f\'{simu_name}_{time_str}\'\nplot_path = f\'{path}/plots/{project_name}/\'\ngds_file_root_path = os.path.abspath(os.path.join(path, \'..\'))\ngds_file = gds_file_root_path + "/examples_gds/DC.gds"\n# endregion\n')),(0,i.kt)("h4",{id:"22-define-materials"},"2.2 Define Materials"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Subsequently, in Region 2, we ues the materials required for the simulation. We also support users to specify the refractive indices of Si (Silicon) and SiO2 (Silicon Dioxide) materials.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 2. Material ---\nmt = pj.Material()\nmt.add_lib(name=\'Si\', data=mo.Material.Si_Palik, order=2)\nmt.add_lib(name=\'SiO2\', data=mo.Material.SiO2_Palik, order=2)\n# mt.add_nondispersion(name="Si", data=[(3.472, 0)], order=2)\n# mt.add_nondispersion(name="SiO2", data=[(1.444, 0)], order=2)\nmt.add_lib(name="Air", data=mo.Material.Air, order=2)\n# endregion\n')),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"add_nondispersion")," function adds a non-dispersion material to the project in the simulation. ",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"data"),", is specified as a list, typically in the format ",(0,i.kt)("inlineCode",{parentName:"p"},"[(index real, index imag)]"),". This list contains the complex refractive index values for the material, enabling the simulation to model its optical properties accurately.",(0,i.kt)("br",null),"The function allows users to incorporate non-dispersion materials into the simulation, contributing to a comprehensive and precise optical analysis of the system under investigation.")),(0,i.kt)("h4",{id:"23-define-waveform"},"2.3 Define Waveform"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"In Region 3, we define the parameters relevant to the wavelength.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"# region --- 3. Waveform ---\nwv = pj.Waveform()\nwv.add(name=waveform_name, wavelength_center=wavelength, wavelength_span=wavelength_span)\n# endregion\n")),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"Waveform")," function is used to retrieve the waveform manager for the current project. It allows users to access and manipulate the waveform sources used in the simulation.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," parameter specifies the name of the waveform source.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"wavelength_center")," parameter defines the center of the wavelength range for the source.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"wavelength_span")," parameter determines the span of the wavelength range for the source.")),(0,i.kt)("h4",{id:"24-create-modelboundary"},"2.4 Create Model\\Boundary"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Next, similar to the procedure in the FDE module, in Region 4, we create the model by importing the GDS layout. Subsequently, in Region 5, we establish the boundary conditions.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 4. Structure ---\n    st = pj.Structure()\n\nst.add_geometry(\n    name="box",\n    type="gds_file",\n    property={\n        "general": { "path": gds_file, "cell_name": "TOP", "layer_name": (1, 1) },\n        "geometry": {"x": 0, "y": 0, "z": 0.11, "z_span": 6},\n        "material": {"material": mt["SiO2"], "mesh_order": 1} }, )\nst.add_geometry(\n    name="dc",\n    type="gds_file",\n    property={\n        "general": { "path": gds_file, "cell_name": "TOP", "layer_name": (0, 0) },\n        "geometry": {"x": 0, "y": 0, "z": 0.11, "z_span": 0.22},\n        "material": {"material": mt["Si"], "mesh_order": 2} }, )\nst.add_geometry(\n    name=\'slab\',\n    type=\'Rectangle\',\n    property={\n        \'geometry\': { \'x_min\': -l_input-l_bend-l_beam/2-3, \'x_max\':l_input+l_bend+l_beam/2+3, \'y\': 0, \'y_span\': 8, \'z\': 0.045, \'z_span\': 0.09 },\n        \'material\': {\'material\': mt[\'Si\'], \'mesh_order\': 2}, } , )\n# endregion\n\n# region --- 5. Boundary ---\nbc = { "pml_layer": 8, "pml_kappa": 2, "pml_sigma": 0.8, "pml_polynomial": 3, "pml_alpha": 0, "pml_alpha_polynomial": 1, }\n# endregion\n')),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"In this code segment, we set detailed parameters for the PML boundar.")),(0,i.kt)("h4",{id:"25-fdtd-simulationlocal-mesh"},"2.5 FDTD Simulation/local mesh"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"In\xa0Region\xa06,\xa0we\xa0add\xa0the\xa0FDTD\xa0simulation.  Additionally, in Region 7, we can set the sub-mesh for improved precision.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 6. Simulation ---\nsimu = pj.Simulation()\nsimu.add(\n    name=simu_name,\n    type="FDTD",\n    property={\n        "background_material": mt["SiO2"],\n        "geometry": { "x": 0, "x_span": 2*(l_input+l_bend+l_beam/2-0.5), "y": 0, "y_span": 6, "z": 0.11, "z_span": monitor_h },\n        "boundary_conditions": { "x_min_bc": "PML", "x_max_bc": "PML", "y_min_bc": "PML", "y_max_bc": "PML", "z_min_bc": "PML", "z_max_bc": "PML",\n            "pml_settings": { "x_min_pml": bc, "x_max_pml": bc, "y_min_pml": bc, "y_max_pml": bc, "z_min_pml": bc, "z_max_pml": bc, }, },\n        "general": { "simulation_time": 10000, },\n        "mesh_settings": {\n            "mesh_factor": 1.2,\n            "mesh_type": "auto_non_uniform",\n            "mesh_accuracy": {"cells_per_wavelength": grids_per_lambda},\n            "minimum_mesh_step_settings": {"min_mesh_step": 1e-4},\n            "mesh_refinement": { "mesh_refinement": "curve_mesh", } },\n        # \'advanced_options\': {\'auto_shutoff\': {\'auto_shutoff_min\': 1.00e-4, \'down_sample_time\': 200}},\n        # \'thread_setting\': {\'thread\': 4}\n    }, )\n# endregion\n\n# region --- 7. Sub Mesh ---\nlm = pj.LocalMesh()\nlm.add(\n    name="sub_mesh",\n    property={\n        "general": { "dx": 0.05, "dy": 0.02, "dz": 0.02 },\n        "geometry": { "x": 0, "x_span": 2*(l_input+l_bend+l_beam/2-0.5), "y": 0, "y_span": 6, "z": 0.11, "z_span": monitor_h }, }, )\n# endregion\n')),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"Simulation")," manager is critical for setting up and running simulations in the current project.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," parameter allows users to assign a unique name to the simulation for identification purposes.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," parameter defines the type of the simulation.",(0,i.kt)("br",null),"we define the boundary conditions for the simulation using the ",(0,i.kt)("inlineCode",{parentName:"p"},"boundary")," dictionary, where the x ,y and the z directions all have PML boundary conditions.The ",(0,i.kt)("inlineCode",{parentName:"p"},"simulation_time")," parameter specifies the duration of the simulation.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"mesh_settings")," parameter enables users to configure various settings related to the simulation mesh. The ",(0,i.kt)("inlineCode",{parentName:"p"},"mesh_accuracy")," parameter controls the precision of the mesh used in the simulation.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"cells_per_wavelength")," parameter determines the wavelength precision used in the simulation.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"minimum_mesh_step_settings")," parameter sets the minimum mesh step, allowing users to define the smallest allowable size for mesh elements.",(0,i.kt)("br",null),"Users can tailor the simulation setup to meet their requirements by utilizing these input parameters, enabling accurate and efficient electromagnetic simulations of complex optical structures.")),(0,i.kt)("h4",{id:"26-source"},"2.6 Source"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Then we need to establish the light source in the input waveguide, as shown in Region 8.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 8. ModeSource ---\nsrc = pj.Source()\nsrc.add(\n    name="source",\n    type="mode_source",\n    # axis="x_forward",\n        property={\n            "general": { "mode_selection": "user_select", "waveform": {"waveform_id_select": wv[waveform_name]}, "inject_axis": "x", "direction": "forward", },\n            "geometry": { "x": -l_input-l_beam/2-l_bend+2, "x_span": 0, "y": 1.35, "y_span": monitor_w, "z": 0.11, "z_span": monitor_h },\n            "modal_analysis": { "mode_removal": {"threshold": 0.01} } , }, )\n# endregion\n')),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"Source")," function is utilized to retrieve the source manager for the current project.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," parameter specifies the type of the source and is formatted as either ",(0,i.kt)("inlineCode",{parentName:"p"},'["mode_source"] or ["gaussian_source"]'),".",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," parameter represents the name assigned to the source.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"inject_axis")," parameter defines the axis of the source.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"property")," parameter allows for defining specific properties associated with the source.")),(0,i.kt)("h4",{id:"27-monitor"},"2.7 Monitor"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"In Region 9, we set up the monitors.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 9. Monitor ---\n# region --- 9.0 GlobalMonitor ---\nmn = pj.Monitor()\nmn.add(\n    name="Global Option",\n    type="global_option",\n    property={\n        "frequency_power": {\n            "spacing_type": "wavelength",\n            "spacing_limit": "center_span",\n            "wavelength_center": wavelength,\n            "wavelength_span":wavelength_span,\n            "frequency_points": 3 }, }, )\n# endregion\n\n# region --- 9.1 z_normal ---\nmn.add(\n    name="z_normal",\n    type="power_monitor",\n    property={\n        "general": {\n            "frequency_profile": { "wavelength_center": wavelength, "wavelength_span": 0.1, "frequency_points": 3, },\n        },\n        "geometry": {\n            "monitor_type": "2d_z_normal",\n            "x": 0, "x_span": 2*(l_input+l_bend+l_beam/2-0.5), "y": 0, "y_span": 5, "z": 0.11, "z_span": 0 }, }, )\n# endregion\n\n# region --- 9.2 input ---\nmn.add(\n    type="power_monitor",\n    name="input_reflect",\n    property={\n        "general": {\n            "frequency_profile": { "wavelength_center": wavelength, "wavelength_span": 0.1, "frequency_points": 11 } },\n        "geometry": {\n            "monitor_type": "2d_x_normal",\n            "x": -l_input-l_beam/2-l_bend+1.5, "x_span": 0, "y": 1.35, "y_span": monitor_w, "z": 0.11, "z_span": monitor_h }, } )\n# endregion\n\n# region --- 9.3 through ---\nmn.add(\n    type="power_monitor",\n    name="through",\n    property={\n        "general": {\n            "frequency_profile": { "wavelength_center": wavelength, "wavelength_span": 0.1, "frequency_points": 11 } },\n        "geometry": {\n            "monitor_type": "2d_x_normal",\n            "x": l_input+l_beam/2+l_bend-2, "x_span": 0, "y": 1.35, "y_span": 2, "z": 0.11, "z_span": monitor_h }, }, )\n# endregion\n\n# region --- 9.4 cross ---\nmn.add(\n    name="cross",\n    type="power_monitor",\n    property={\n        "general": {\n            "frequency_profile": { "wavelength_center": wavelength, "wavelength_span": 0.1, "frequency_points": 11 } },\n         "geometry": {\n            "monitor_type": "2d_x_normal",\n            "x": l_input+l_beam/2+l_bend-2,\n            "x_span": 0, "y": -1.35, "y_span": 2, "z": 0.11, "z_span": monitor_h }, } )\n# endregion\n# endregion\n')),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"For the global monitor, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Monitor")," function is utilized to retrieve the monitor manager for the current project, which allows users to access and manage various types of monitors used during simulation.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," parameter represents the name of the Global Option associated with the monitor.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," parameter defines the type of the Global Option and is formatted as a list containing one of several monitor types. The ",(0,i.kt)("inlineCode",{parentName:"p"},"property")," parameter is used to define and set the relevant parameters specific to the chosen monitor type. These parameters control the monitor's behavior and data collection settings during the simulation."),(0,i.kt)("p",null,"The power monitor is a configuration setting that allows users to specify various simulation parameters.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," parameter assigns a name to the power monitor.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"type")," parameter defines the type of power monitor.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"general")," parameter pertains to settings related to the frequency domain and frequency-dependent behaviors of the simulation.",(0,i.kt)("br",null),"The ",(0,i.kt)("inlineCode",{parentName:"p"},"geometry")," parameter is used to define the geometric characteristics of the simulated structure.",(0,i.kt)("br",null))),(0,i.kt)("h4",{id:"28-calculate-source"},"2.8 Calculate Source"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"To calculate the input mode light and save its electric field intensity data in region 10.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 10. Calculate Mode ---\nif run_options.calculate_modes:\n    simu[simu_name].preview_modes(\n        source_name = "source",\n        savepath=f"{plot_path}00_source_modeprofile_fdeonly",\n        attribute="E", real=True, imag=True, mode=0, show=False, export_csv=True, )\n# endregion\n')),(0,i.kt)("h4",{id:"29-run-simulation"},"2.9 Run Simulation"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Then,\xa0in\xa0Region\xa011,\xa0we\xa0run\xa0the\xa0simulation.\xa0")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},"# region --- 11. Run ---\nif run_options.run:\n    fdtd_res = simu[simu_name].run()\n# endregion\n")),(0,i.kt)("h4",{id:"210-analysis"},"2.10 Analysis"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"In\xa0Region\xa012,\xa0we\xa0run\xa0the\xa0analysis for the simulation.\nThe ",(0,i.kt)("inlineCode",{parentName:"p"},"mode_expansion")," parameter involves relevant settings for mode expansion simulations. Users can customize the simulation settings by utilizing these input parameters to achieve accurate and comprehensive results based on their specific simulation requirements.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 12. Run ---\nanalysis = pj.Analysis()\nanalysis.add(\n    name="me_through",\n    type="mode_expansion",\n    property={\n            "workflow_id": fdtd_res.workflow_id,\n            "mode_expansion": {\n                "direction": "positive",\n                "monitors_for_expansion": [ {"name": "me_through", "frequency_monitor": "through"} ],\n                "mode_calculation": {\n                    "mode_selection": "user_select",\n                    "mode_index": [0, 1, 2, 3],\n                    "override_global_monitor_setting": { "wavelength_center": wavelength, "wavelength_span": 0.1, "frequency_points": 11, }, }, }, } )\nanalysis.add(\n    name="me_cross",\n    type="mode_expansion",\n    property={\n            "workflow_id": fdtd_res.workflow_id,\n            "mode_expansion": {\n                "direction": "positive",\n                "monitors_for_expansion": [ {"name": "me_cross", "frequency_monitor": "cross"} ],\n                "mode_calculation": {\n                    "mode_selection": "user_select",\n                    "mode_index": [0, 1, 2, 3],\n                    "override_global_monitor_setting": { "wavelength_center": wavelength, "wavelength_span": 0.1, "frequency_points": 11, }, }, }, } )\nme_res1 = analysis["me_through"].run()\nme_res2 = analysis["me_cross"].run()\n# endregion\n')),(0,i.kt)("h4",{id:"211-results"},"2.11 Results"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"In Region 13, we define the desired output results. Lastly, we control the switches of various functional modules at the end of the Python file.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'# region --- 13. See Results ---\nif run_options.extract and run_options.run:\n    # region --- z_normal ---\n    """ 01_top_profile """\n    for \u03bb in [1.5, 1.55, 1.6]:\n        fdtd_res.extract(\n            data="fdtd:power_monitor",\n            savepath=plot_path + "01_top_profile" + str(\u03bb) + "um",\n            monitor_name="z_normal",\n            target="intensity",\n            attribute="E",\n            real=True, imag=True, wavelength=str(\u03bb), plot_x="x", plot_y="y", show=False, export_csv=True, )\n        # endregion\n\n        # # region --- through ---\n        """ 01_monitorThrough_modeprofile_fdtd """\n        fdtd_res.extract(\n            data="fdtd:power_monitor",\n            savepath=plot_path + "01_monitorThrough_modeprofile_fdtd_"+ f"{wavelength}" + "um",\n            monitor_name="through",\n            target="intensity",\n            attribute="E",\n            real=True, imag=False, wavelength=f"{wavelength}", plot_x="y", plot_y="z", show=False, export_csv=True, )\n        # # """ 02_Trans_ThroughVsLambda_power """\n        fdtd_res.extract(\n            data="fdtd:power_monitor",\n            savepath=plot_path + "02_Trans_ThroughVsLambda_power",\n            monitor_name="through",\n            target="line",\n            attribute="T",\n            real=True, imag=False, plot_x="wavelength", show=False, export_csv=True, )\n        # # """ 021_ME_ThroughVsLambda_mode """\n        me_res1.extract(\n            data="fdtd:mode_expansion",\n            savepath=plot_path + "021_ME_ThroughVsLambda_mode",\n            target="line",\n            attribute="T_forward",\n            real=True, imag=True, monitor_name="through", mode_expansion_name="me_through", mode=0, plot_x="wavelength", show=False, export_csv=True, )\n        # # region --- cross ---\n        """ 01_monitorcross_modeprofile_fdtd """\n        fdtd_res.extract(\n            data="fdtd:power_monitor",\n            savepath=plot_path + "01_monitorcross_modeprofile_fdtd_"+ f"{wavelength}" + "um",\n            monitor_name="cross",\n            target="intensity",\n            attribute="E",\n            real=True, imag=False, wavelength=f"{wavelength}", plot_x="y", plot_y="z", show=False, export_csv=True, )\n        # # """ 02_Trans_crossVsLambda_power """\n        fdtd_res.extract(\n            data="fdtd:power_monitor",\n            savepath=plot_path + "02_Trans_crossVsLambda_power",\n            monitor_name="cross",\n            target="line",\n            attribute="T",\n            real=True, imag=False, plot_x="wavelength", show=False, export_csv=True, )\n        # # """ 021_ME_crossVsLambda_mode """\n        me_res2.extract(\n            data="fdtd:mode_expansion",\n            savepath=plot_path + "021_ME_crossVsLambda_mode",\n            target="line",\n            attribute="T_forward",\n            real=True, imag=True, monitor_name="cross", mode_expansion_name="me_cross", mode=0, plot_x="wavelength", show=False, export_csv=True, )\n    # endregion\n\n')),(0,i.kt)("h4",{id:"212-switches"},"2.12 Switches"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"At the end of all codes, We control the switches of various functional modules.")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'class RunOptions(NamedTuple):\n    index_preview: bool\n    calculate_modes: bool\n    run: bool\n    extract: bool\n\n\nif __name__ == "__main__":\n    simulation( wavelength=1.55, wavelength_span=0.1 , grids_per_lambda=6,\n        run_options=RunOptions(\n            index_preview=True, run=True, calculate_modes=True, extract=True ), )\n')),(0,i.kt)("h3",{id:"3-output-results"},"3. Output Results"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"After running the program, we can obtain a series of corresponding output results:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Incident light electric field intensity, CRO output port electric field intensity, and TRU output port electric field intensity."))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"00_source_modeprofile_fdeonly",src:n(754).Z,width:"640",height:"480"})),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"01_monitorCross_modeprofile_fdtd",src:n(39385).Z,width:"640",height:"480"})),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"01_monitorThrough_modeprofile_fdtd",src:n(21739).Z,width:"640",height:"480"}))))),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"DC (Directional Coupler)  Z-direction electric field intensity at different wavelengths: 1.50 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m, 1.55 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m, and 1.60 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m."))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"01_top_profile_1.5um",src:n(91139).Z,width:"640",height:"480"})),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"01_top_profile_1.6um",src:n(63095).Z,width:"640",height:"480"})),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"01_top_profile_1.55um",src:n(47903).Z,width:"640",height:"480"}))))),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Cross output port and TRU output port transmittance at different wavelengths,from 1.50 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m to 1.60 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m."))),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"TE0 mode transmittance at Cross output port and TRU output port for different wavelengths,,from 1.50 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m to 1.60 ",(0,i.kt)("em",{parentName:"li"},"\u03bc"),"m."))),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"021_ME_CrossVsLambda_mode",src:n(25985).Z,width:"640",height:"480"})),(0,i.kt)("th",{parentName:"tr",align:null},(0,i.kt)("img",{alt:"021_ME_ThroughVsLambda_mode",src:n(19480).Z,width:"640",height:"480"}))))),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Based on the information provided, we can get the following results  when propogating wavelength  is 1.55 ",(0,i.kt)("em",{parentName:"p"},"\u03bc"),"m and the two arm length of directional couper is equal to 15 ",(0,i.kt)("em",{parentName:"p"},"\u03bc"),"m: 1. Insertion Loss: 0.236 dB; 2. Power Split Ratio: 11.2 : 83.3 (or approximately 11.2% to one port and 82.8% to the other port); 3. Dimensions: Approximately 5 ",(0,i.kt)("em",{parentName:"p"},"\u03bc"),"m X 25 ",(0,i.kt)("em",{parentName:"p"},"\u03bc"),"m.")),(0,i.kt)("h2",{id:"references"},"References"),(0,i.kt)("div",{class:"text-justify"},(0,i.kt)("p",null,"Chrostowski, L., & Hochberg, M. (2015). Silicon Photonics Design: From Devices to Systems. Cambridge: Cambridge University Press. doi:10.1017/CBO9781316084168"))))}u.isMDXComponent=!0},754:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/00_source_modeprofile_fdeonly-6f4624830057a4d4f11240585f64f101.png"},21739:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01_monitorThrough_modeprofile_fdtd_1.55um-f29023d3cbe8fa9f79c191d8ed1bb052.png"},39385:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01_monitorcross_modeprofile_fdtd_1.55um-62fe7865ef1647451a4811e2f7abe293.png"},47903:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01_top_profile1.55um-d66f363088c3441a0f982e3cfb08cb82.png"},91139:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01_top_profile1.5um-7eeb3321ccfc34a131f49eae1183c440.png"},63095:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/01_top_profile1.6um-c623738bef2ec60e7fa9627a6bee6c3f.png"},19480:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/021_ME_ThroughVsLambda_mode-fa9e490a7f66d216a60272e2c22937d3.png"},25985:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ME_crossVsLambda_mode-8c3889b5dbaa91da856d76837fa0bfda.png"},20055:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/introDC1-6e1015f0f1d4f1c18730c819bd1d1e6c.png"},89542:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/introDC2-d20b7930df6a871b15b2ee28c0c27022.png"}}]);